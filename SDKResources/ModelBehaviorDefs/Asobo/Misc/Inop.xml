<ModelBehaviors>
    <Include RelativeFile="Inputs\\Misc_Inputs.xml"/>
    <Template Name="ASOBO_Inop_Template">
        <Parameters Type="Default">
            <INTERACTION_TYPE>SWITCH</INTERACTION_TYPE>
            <TOOLTIP_TITLE>@TT_Placeholder_Title</TOOLTIP_TITLE>
            <TT_DESCRIPTION_ID>@TT_Placeholder_Description</TT_DESCRIPTION_ID>
            <PART_ID>#IE_NAME#</PART_ID>
            <TT_INOP>True</TT_INOP>
            <!-- Requires NODE_ID -->
            <!-- Requires ANIM_NAME, or ANIM_NAME_L_R & ANIM_NAME_DN_UP for Joysticks -->
            <!-- Requires IE_NAME -->
        </Parameters>
        <Parameters Type="Override">
            <UseParametersFn Name="ASOBO_Count_NUM_STATE_From_TT_Value"/>
        </Parameters>
        <Parameters Type="Override">
            <Condition NotEmpty="NUM_STATES">
                <Condition>
                    <Test>
                        <And>
                            <Not>
                                <Arg Check="INTERACTION_TYPE" Match="JOYSTICK"/>
                            </Not>
                            <Greater>
                                <Number>#NUM_STATES#</Number>
                                <Number>2</Number>
                            </Greater>
                        </And>
                    </Test>
                    <True>
                        <IS_MULTIPOS_SWITCH>True</IS_MULTIPOS_SWITCH>
                        <INTERACTION_TYPE>SWITCH</INTERACTION_TYPE>                        <!-- Knob can be considered a switch if it has discrete positions -->
                    </True>
                </Condition>
            </Condition>
        </Parameters>
        <Parameters Type="Default">
            <Condition NotEmpty="INIT_POS">
                <GET_INIT_STATE_EXTERNAL>#INIT_POS#</GET_INIT_STATE_EXTERNAL>
            </Condition>
        </Parameters>

        <Switch Param="INTERACTION_TYPE">
            <Case Value="SWITCH">
                <UseTemplate Name="ASOBO_Switch_Inop_Template"/>
            </Case>
            <Case Value="KNOB">
                <UseTemplate Name="ASOBO_Knob_Inop_Template"/>
            </Case>
            <Case Value="LEVER">
                <UseTemplate Name="ASOBO_Lever_Inop_Template"/>
            </Case>
            <Case Value="PUSH">
                <UseTemplate Name="ASOBO_Push_Inop_Template"/>
            </Case>
            <Case Value="JOYSTICK">
                <UseTemplate Name="ASOBO_Joystick_Inop_Template"/>
            </Case>
        </Switch>
    </Template>

    <Template Name="ASOBO_Switch_Inop_Template">
        <Condition Valid="IS_COVERED">
            <!-- <ON_COVER_OPENED/> -->
            <!-- <ON_COVER_CLOSED/> -->
            <Parameters Type="Default">
                <SWITCH_NODE_ID>#NODE_ID#</SWITCH_NODE_ID>
                <SWITCH_ANIM_NAME>#ANIM_NAME#</SWITCH_ANIM_NAME>
            </Parameters>
            <Parameters Type="Default">
                <COVER_IE_ID_SOURCE>COMMON</COVER_IE_ID_SOURCE>
                <COVER_IE_NAME>#IE_NAME#_Cover</COVER_IE_NAME>
                <COVER_NODE_ID>#NODE_ID#_Cover</COVER_NODE_ID>
                <COVER_ANIM_NAME>#ANIM_NAME#_Cover</COVER_ANIM_NAME>
                <TEMPLATE_TO_USE>ASOBO_GT_Switch_Covered</TEMPLATE_TO_USE>
            </Parameters>
        </Condition>
        <Condition Valid="IS_MULTIPOS_SWITCH">
            <True>
                <UseTemplate Name="ASOBO_Multipos_Switch_Inop_Template"/>
            </True>
            <False>
                <UseTemplate Name="ASOBO_Inop_Base_Template">
                    <SET_STATE_ON>1 (&gt;O:XMLVAR_SwitchState)</SET_STATE_ON>
                    <SET_STATE_OFF>0 (&gt;O:XMLVAR_SwitchState)</SET_STATE_OFF>
                    <GET_STATE_EXTERNAL>(O:XMLVAR_SwitchState) sp0</GET_STATE_EXTERNAL>
                </UseTemplate>
            </False>
        </Condition>
    </Template>

    <Template Name="ASOBO_Multipos_Switch_Inop_Template">
        <Parameters Type="Default">
            <Loop>
                <Setup>
                    <Param>CUR_ID</Param>
                    <From>0</From>
                    <Inc>1</Inc>
                    <To>#NUM_STATES#</To>
                </Setup>
                <Do>
                    <SET_STATE_#CUR_ID#>#CUR_ID# (&gt;O:XMLVAR_SwitchState)</SET_STATE_#CUR_ID#>
                    <STR_STATE_#CUR_ID#>#CUR_ID#</STR_STATE_#CUR_ID#>
                    <TT_VALUE_#CUR_ID#>@TT_Package.GT_STATE_LOW</TT_VALUE_#CUR_ID#>
                    <Condition Valid="MOMENTARY_POS_#CUR_ID#">
                        <MOMENTARY_SWITCH>True</MOMENTARY_SWITCH>
                        <Condition Check="CUR_ID" Match="#MAX_STATE#">
                            <True>
                                <STATE_MAX_TIMER>0.01</STATE_MAX_TIMER>
                            </True>
                            <False>
                                <STATE#CUR_ID#_TIMER>0.01</STATE#CUR_ID#_TIMER>
                            </False>
                        </Condition>
                    </Condition>
                </Do>
            </Loop>
        </Parameters>

        <UseTemplate Name="ASOBO_Inop_Base_Template" Break="True">
            <GET_STATE_EXTERNAL>(O:XMLVAR_SwitchState) sp0</GET_STATE_EXTERNAL>
        </UseTemplate>
    </Template>

    <Template Name="ASOBO_Knob_Inop_Template">
        <Parameters Type="Default">
            <Condition NotEmpty="INIT_POS">
                <ON_BEFORE_INIT_CODE>#INIT_POS# (&gt;O:XMLVAR_KnobState)</ON_BEFORE_INIT_CODE>
            </Condition>
        </Parameters>
        <UseTemplate Name="ASOBO_Inop_Base_Template">
            <SET_STATE_EXTERNAL>l0 (&gt;O:XMLVAR_KnobState)</SET_STATE_EXTERNAL>
            <GET_STATE_EXTERNAL>(O:XMLVAR_KnobState)</GET_STATE_EXTERNAL>
        </UseTemplate>
    </Template>

    <Template Name="ASOBO_Lever_Inop_Template">
        <Parameters Type="Default">
            <Condition NotEmpty="INIT_POS">
                <ON_BEFORE_INIT_CODE>#INIT_POS# (&gt;O:XMLVAR_LeverState)</ON_BEFORE_INIT_CODE>
            </Condition>
        </Parameters>
        <UseTemplate Name="ASOBO_Inop_Base_Template">
            <SET_STATE_EXTERNAL>100 * (&gt;O:XMLVAR_LeverState)</SET_STATE_EXTERNAL>
            <GET_STATE_EXTERNAL>(O:XMLVAR_LeverState)</GET_STATE_EXTERNAL>
            <STATE_TO_POS_EXTERNAL>100 *</STATE_TO_POS_EXTERNAL>
        </UseTemplate>
    </Template>

    <Template Name="ASOBO_Joystick_Inop_Template">
        <Parameters Type="Default">
            <INPUT_EVENT_ID_SOURCE>INOP</INPUT_EVENT_ID_SOURCE>
            <TT_DESCRIPTION_ID_0>#TT_DESCRIPTION_ID#</TT_DESCRIPTION_ID_0>
            <TT_DESCRIPTION_ID_1>#TT_DESCRIPTION_ID#</TT_DESCRIPTION_ID_1>
        </Parameters>
        <Parameters Type="Override">
            <TYPE_0>X_Dir</TYPE_0>
            <TYPE_1>Y_Dir</TYPE_1>
        </Parameters>
        <Component ID="#NODE_ID#" Node="#NODE_ID#">
            <Parameters Type="Default">
                <STATE_VAR>#INPUT_EVENT_ID_SOURCE#_#TYPE_0#_#TYPE_1#_Position</STATE_VAR>
                <STATE_VAR_SCOPE>O</STATE_VAR_SCOPE>
            </Parameters>
            <UseTemplate Name="ASOBO_INOP_Axis_Event_Base_Template">
                <IE_NAME>#IE_NAME#_#TYPE_0#</IE_NAME>
                <AXIS>X</AXIS>
                <LEFT_CODE_EXTERNAL>0 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</LEFT_CODE_EXTERNAL>
                <IE_STANDBY_CODE>4 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</IE_STANDBY_CODE>
                <RIGHT_CODE_EXTERNAL>1 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</RIGHT_CODE_EXTERNAL>
                <TT_VALUE>@TT_NA</TT_VALUE>
                <TT_DESCRIPTION_ID>#TT_DESCRIPTION_ID_1#</TT_DESCRIPTION_ID>
            </UseTemplate>
            <UseTemplate Name="ASOBO_INOP_Axis_Event_Base_Template">
                <IE_NAME>#IE_NAME#_#TYPE_1#</IE_NAME>
                <AXIS>Y</AXIS>
                <LEFT_CODE_EXTERNAL>2 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</LEFT_CODE_EXTERNAL>
                <IE_STANDBY_CODE>4 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</IE_STANDBY_CODE>
                <RIGHT_CODE_EXTERNAL>3 (&gt;#STATE_VAR_SCOPE#:#STATE_VAR#)</RIGHT_CODE_EXTERNAL>
                <TT_VALUE>@TT_NA</TT_VALUE>
                <TT_DESCRIPTION_ID>#TT_DESCRIPTION_ID_2#</TT_DESCRIPTION_ID>
            </UseTemplate>
            <UseTemplate Name="ASOBO_INOP_Base_Template">
                <IE_NAME>#IE_NAME#_#TYPE_0#_#TYPE_1#</IE_NAME>
                <JOYSTICK_TYPE>5_STATES</JOYSTICK_TYPE>
                <CREATE_COMPONENT>False</CREATE_COMPONENT>
                <GET_STATE_EXTERNAL>(#STATE_VAR_SCOPE#:#STATE_VAR#) sp0</GET_STATE_EXTERNAL>
                <TT_DESCRIPTION_ID>#TT_DESCRIPTION_ID_0#</TT_DESCRIPTION_ID>
                <IE_ID_EXTERNAL_0>#IE_NAME#_#TYPE_0#</IE_ID_EXTERNAL_0>
                <IE_ID_EXTERNAL_1>#IE_NAME#_#TYPE_1#</IE_ID_EXTERNAL_1>
                <!-- Disable manager's IE Tooltip -->
                <Condition Valid="SHOW_ONLY_GENERAL_STATE">
                    <True>
                        <TOOLTIP_ENTRY_1/>
                        <TOOLTIP_ENTRY_2/>
                    </True>
                    <False>
                        <TOOLTIP_ENTRY_0>#INPUT_EVENT_ID_SOURCE#_#IE_NAME#_#TYPE_0#</TOOLTIP_ENTRY_0>
                        <TOOLTIP_ENTRY_1>#INPUT_EVENT_ID_SOURCE#_#IE_NAME#_#TYPE_1#</TOOLTIP_ENTRY_1>
                        <TOOLTIP_ENTRY_2/>
                    </False>
                </Condition>
            </UseTemplate>
        </Component>
    </Template>

    <Template Name="ASOBO_Push_Inop_Template">
        <UseTemplate Name="ASOBO_Inop_Base_Template">
            <Condition Valid="MOMENTARY_STATE">
                <True>
                    <EXTRA_OPTION>_Held</EXTRA_OPTION>
                    <SET_STATE_EXTERNAL>p0 (&gt;O:XMLVAR_SwitchState)</SET_STATE_EXTERNAL>
                    <ANIM_HANDLED_SEPARATELY>False</ANIM_HANDLED_SEPARATELY>
                    <Condition>
                        <Test>
                            <And>
                                <Arg NotEmpty="TT_VALUE_OFF"/>
                                <Arg NotEmpty="TT_VALUE_ON"/>
                            </And>
                        </Test>
                        <True>
                            <TT_VALUE>(O:XMLVAR_SwitchState) if{ #TT_VALUE_ON# } els{ #TT_VALUE_OFF# }</TT_VALUE>
                            <TT_VALUE_IS_DYNAMIC>True</TT_VALUE_IS_DYNAMIC>
                        </True>
                    </Condition>
                </True>
                <False>
                    <SET_STATE_ON>1 (&gt;O:XMLVAR_SwitchState)</SET_STATE_ON>
                    <SET_STATE_OFF>0 (&gt;O:XMLVAR_SwitchState)</SET_STATE_OFF>
                    <GET_STATE_EXTERNAL>(O:XMLVAR_SwitchState) sp0</GET_STATE_EXTERNAL>
                </False>
            </Condition>
        </UseTemplate>
    </Template>

    <ParametersFn Name="ASOBO_Count_NUM_STATE_From_TT_Value">
        <Parameters Type="Override">
            <Condition Check="NUM_STATES">
                <False>
                    <Loop>
                        <Setup>
                            <Param>CUR_ID</Param>
                            <From>2</From>
                            <Inc>1</Inc>
                            <While>
                                <Arg NotEmpty="TT_VALUE_#CUR_ID#"/>
                            </While>
                        </Setup>
                        <Do>
                            <NUM_STATES Process="Int">#CUR_ID# 1 +</NUM_STATES>
                        </Do>
                    </Loop>
                </False>
            </Condition>
        </Parameters>

        <ReturnParameters>
            <Condition Check="NUM_STATES">
                <NUM_STATES>#NUM_STATES#</NUM_STATES>
                <MAX_STATE Process="Int">#NUM_STATES# 1 -</MAX_STATE>
            </Condition>
        </ReturnParameters>
    </ParametersFn>
    <!-- ########################################## -->
    <!-- AS_GX2 Interaction inputs setup template -->
    <Template Name="ASOBO_Inop_Base_Template">
        <Parameters Type="Default">
            <INPUT_EVENT_ID_SOURCE>INOP</INPUT_EVENT_ID_SOURCE>
            <WWISE_PREFIX>INOP</WWISE_PREFIX>
        </Parameters>
        <UseTemplate Name="ASOBO_Interaction_Base_Template">
            <USE_INPUT_EVENT_ID>INOP</USE_INPUT_EVENT_ID>
        </UseTemplate>
    </Template>
    <Template Name="ASOBO_INOP_Push_Event_Base_Template">
        <UseTemplate Name="ASOBO_Interaction_Push_Event_Base_Template">
            <USE_INPUT_EVENT_ID>INOP</USE_INPUT_EVENT_ID>
        </UseTemplate>
    </Template>
    <Template Name="ASOBO_INOP_Pull_Event_Base_Template">
        <UseTemplate Name="ASOBO_Interaction_Pull_Event_Base_Template">
            <USE_INPUT_EVENT_ID>INOP</USE_INPUT_EVENT_ID>
        </UseTemplate>
    </Template>
    <Template Name="ASOBO_INOP_Axis_Event_Base_Template">
        <UseTemplate Name="ASOBO_Interaction_Axis_Event_Base_Template">
            <USE_INPUT_EVENT_ID>INOP</USE_INPUT_EVENT_ID>
        </UseTemplate>
    </Template>
</ModelBehaviors>