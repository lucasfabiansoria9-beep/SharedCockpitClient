<ModelBehaviors>
	<!-- ParametersFn Definitions -->
	<ParametersFn Name="ASOBO_Visibility_Base_Default_Parameters">
		<ReturnParameters>
			<VISIBILITY_DO_ONCE>False</VISIBILITY_DO_ONCE>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Visibility_Base_Parameters">
		<ReturnParameters>
			<ONCE>#VISIBILITY_DO_ONCE#</ONCE>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Visibility_Sim_Default_Parameters">
		<ReturnParameters>
			<VISIBILITY_SIMVAR/>
			<VISIBILITY_SIMVAR_UNITS/>
			<VISIBILITY_SIMVAR_SCALE>1</VISIBILITY_SIMVAR_SCALE>
			<VISIBILITY_SIMVAR_BIAS>0</VISIBILITY_SIMVAR_BIAS>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Visibility_Sim_Base_Parameters">
		<Parameters Type="Default">
			<UseParametersFn Name="ASOBO_Visibility_Base_Default_Parameters"/>
			<UseParametersFn Name="ASOBO_Visibility_Sim_Default_Parameters"/>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_PFN_Call_Overridable_ParametersFn_Helper">
				<PFN_PARAM_DEFAULT>ASOBO_Visibility_Base_Parameters</PFN_PARAM_DEFAULT>
				<PFN_PARAM_NAME>VISIBILITY_BASE_PARAMETERS_FN</PFN_PARAM_NAME>
			</UseParametersFn>
			<SIMVAR>#VISIBILITY_SIMVAR#</SIMVAR>
			<UNITS>#VISIBILITY_SIMVAR_UNITS#</UNITS>
			<SCALE>#VISIBILITY_SIMVAR_SCALE#</SCALE>
			<BIAS>#VISIBILITY_SIMVAR_BIAS#</BIAS>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Visibility_Code_Base_Parameters">
		<Parameters Type="Default">
			<UseParametersFn Name="ASOBO_Visibility_Base_Default_Parameters"/>
		</Parameters>
		<Parameters Type="Override">
			<Condition CheckSavedParameters="Visibility_Code_Transform_Stack">
				<UseParametersFn Name="ASOBO_Visibility_Code_Transform_Value">
					<PLOAD_VISIBILITY_CODE_TRANSFORMS>Visibility_Code_Transform_Stack</PLOAD_VISIBILITY_CODE_TRANSFORMS>
				</UseParametersFn>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_PFN_Call_Overridable_ParametersFn_Helper">
				<PFN_PARAM_DEFAULT>ASOBO_Visibility_Base_Parameters</PFN_PARAM_DEFAULT>
				<PFN_PARAM_NAME>VISIBILITY_BASE_PARAMETERS_FN</PFN_PARAM_NAME>
			</UseParametersFn>
			<CODE>#VISIBILITY_CODE#</CODE>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Visibility_Code_Transform_Value">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Load_Then_Remove_Parameters_Helper">
				<SAVED_PARAMETERS>PLOAD_VISIBILITY_CODE_TRANSFORMS</SAVED_PARAMETERS>
			</UseParametersFn>	
		</Parameters>
		<ReturnParameters>
			<Loop>
				<Setup>
					<Param>CUR_ID</Param>
					<From>0</From>
					<Inc>1</Inc>
					<While>
						<Arg Valid="VISIBILITY_CODE_TRANSFORM_PFN_#CUR_ID#"/>
					</While>
				</Setup>
				<Do>
					<Parameters Type="Override">
						<VISIBILITY_CODE_TRANSFORM_PFN Process="Param">VISIBILITY_CODE_TRANSFORM_PFN_#CUR_ID#</VISIBILITY_CODE_TRANSFORM_PFN>
					</Parameters>
					<Parameters Type="Override" Lifetime="Loop">
						<UseParametersFn Name="#VISIBILITY_CODE_TRANSFORM_PFN#"/>
					</Parameters>
				</Do>
				<Then>
					<Condition Check="VISIBILITY_CODE_TRANSFORM_PFN_RETURN">
						<True>
							<UseParametersFn Name="#VISIBILITY_CODE_TRANSFORM_PFN_RETURN#"/>
						</True>
						<False>
							<VISIBILITY_CODE>#VISIBILITY_CODE#</VISIBILITY_CODE>							
						</False>
					</Condition>
				</Then>
			</Loop>
		</ReturnParameters>
	</ParametersFn>
	<!-- Template Definitions -->
	<Template Name="ASOBO_Visibility_Template">
		<Switch>
			<Case NotEmpty="VISIBILITY_CODE">
				<UseTemplate Name="ASOBO_Visibility_Code_Base_Template"/>
			</Case>
			<Case NotEmpty="VISIBILITY_SIMVAR">
				<UseTemplate Name="ASOBO_Visibility_Sim_Base_Template"/>
			</Case>
		</Switch>
	</Template>
	<Template Name="ASOBO_Visibility_Sim_Base_Template">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_PFN_Call_Overridable_ParametersFn_Helper">
				<PFN_PARAM_DEFAULT>ASOBO_Visibility_Sim_Base_Parameters</PFN_PARAM_DEFAULT>
				<PFN_PARAM_NAME>VISIBILITY_SIM_BASE_PARAMETERS_FN</PFN_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
		<Visibility Once="#ONCE#">
			<Parameter>
				<Sim>
					<Variable>#SIMVAR#</Variable>
					<Units>#UNITS#</Units>
					<Scale>#SCALE#</Scale>
					<Bias>#BIAS#</Bias>
				</Sim>
			</Parameter>
		</Visibility>
	</Template>
	<Template Name="ASOBO_Visibility_Code_Base_Template">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_PFN_Call_Overridable_ParametersFn_Helper">
				<PFN_PARAM_DEFAULT>ASOBO_Visibility_Code_Base_Parameters</PFN_PARAM_DEFAULT>
				<PFN_PARAM_NAME>VISIBILITY_CODE_BASE_PARAMETERS_FN</PFN_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
		<Visibility Once="#ONCE#">
			<Parameter>
				<Code>#CODE#</Code>
			</Parameter>
		</Visibility>
	</Template>
</ModelBehaviors>