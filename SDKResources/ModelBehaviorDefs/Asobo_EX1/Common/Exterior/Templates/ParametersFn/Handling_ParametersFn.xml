<ModelBehaviors>
	<!-- ################################## HANDLING ################################## -->
	<!-- ############################################################################## -->
	<!-- SURFACE_ANIMATION_TYPE: one of the following: MIXED, TRIM, SURFACE -->
	<!-- MIXED: both trim and surface simvars drive the animation -->
	<!-- TRIM: only trim simvar drive the animation -->
	<!-- SURFACE: only surface deflection simvars drive the animation(s) -->
	<!-- [If using MIXED] DEFLECTION_TRIM_ANIMATION_RATIO: ratio of the deflection over trim controls to drive the animation -->
	<ParametersFn Name="ASOBO_Get_Surface_Animation_Parameters">
		<Parameters Type="Default">
			<SURFACE_ANIMATION_TYPE>SURFACE</SURFACE_ANIMATION_TYPE>
		</Parameters>
		<Parameters Type="Default">
			<Switch Param="SURFACE_TYPE">
				<Case Value="AILERON">
					<USE_DIFFERENT_L_R_ANIMATIONS>True</USE_DIFFERENT_L_R_ANIMATIONS>
				</Case>
			</Switch>
			<Switch Param="SURFACE_ANIMATION_TYPE">
				<Case Value="MIXED">
					<DEFLECTION_TRIM_ANIMATION_RATIO>0.75</DEFLECTION_TRIM_ANIMATION_RATIO>
				</Case>
			</Switch>
		</Parameters>
		<Parameters Type="Override">
			<Switch Param="SURFACE_ANIMATION_TYPE">
				<Case Value="SURFACE">
					<UseParametersFn Name="ASOBO_Get_Surface_Deflection_Parameters_Helper"/>
				</Case>
				<Default>
					<UseParametersFn Name="ASOBO_Get_Process_Trim_Limits_Parameters_Helper">
						<TRIM_TYPE>#SURFACE_TYPE#</TRIM_TYPE>
					</UseParametersFn>
					<UseParametersFn Name="ASOBO_Get_Surface_Deflection_Parameters_Helper"/>
				</Default>
			</Switch>
			<Condition Check="SURFACE_ANIMATION_TYPE" Match="TRIM">
				<USE_DIFFERENT_L_R_ANIMATIONS>False</USE_DIFFERENT_L_R_ANIMATIONS>
			</Condition>
			<Condition Check="DEFLECTION_TRIM_ANIMATION_RATIO">
				<DEFLECTION_RATIO>#DEFLECTION_TRIM_ANIMATION_RATIO# 1 min 0 max</DEFLECTION_RATIO><!-- Process="Float" -->
				<TRIM_RATIO>1 #DEFLECTION_TRIM_ANIMATION_RATIO# 1 min 0 max -</TRIM_RATIO><!-- Process="Float" -->
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Valid="INVERT_TRIM_ANIMATION_DIRECTION">
				<GET_TRIM_PERCENT>100 #GET_TRIM_PERCENT# -</GET_TRIM_PERCENT>
			</Condition>
		</Parameters>
		<Parameters Type="Default">
			<Switch Param="SURFACE_ANIMATION_TYPE">
				<Case Value="TRIM">
					<ANIM_CODE>#GET_TRIM_PERCENT#</ANIM_CODE>
				</Case>
				<Case Value="SURFACE">
					<Condition Valid="USE_DIFFERENT_L_R_ANIMATIONS">
						<True>
							<ANIM_CODE_L>#GET_L_SURFACE_PERCENT#</ANIM_CODE_L>
							<ANIM_CODE_R>#GET_R_SURFACE_PERCENT#</ANIM_CODE_R>
						</True>
						<False>
							<ANIM_CODE>#GET_SURFACE_PERCENT#</ANIM_CODE>
						</False>
					</Condition>
				</Case>
				<Case Value="MIXED">
					<Condition Valid="USE_DIFFERENT_L_R_ANIMATIONS">
						<True>
							<ANIM_CODE_L>#GET_L_SURFACE_PERCENT# #DEFLECTION_RATIO# * #GET_TRIM_PERCENT# #TRIM_RATIO# * +</ANIM_CODE_L>
							<ANIM_CODE_R>#GET_R_SURFACE_PERCENT# #DEFLECTION_RATIO# * #GET_TRIM_PERCENT# #TRIM_RATIO# * +</ANIM_CODE_R>
						</True>
						<False>
							<ANIM_CODE>#GET_SURFACE_PERCENT# #DEFLECTION_RATIO# * #GET_TRIM_PERCENT# #TRIM_RATIO# * +</ANIM_CODE>
						</False>
					</Condition>
				</Case>
			</Switch>
		</Parameters>
		<ReturnParameters>
			<Condition Valid="USE_DIFFERENT_L_R_ANIMATIONS">
				<True>
					<USE_DIFFERENT_L_R_ANIMATIONS>True</USE_DIFFERENT_L_R_ANIMATIONS>
					<ANIM_CODE_L>#ANIM_CODE_L#</ANIM_CODE_L>
					<ANIM_CODE_R>#ANIM_CODE_R#</ANIM_CODE_R>
				</True>
				<False>
					<ANIM_CODE>#ANIM_CODE#</ANIM_CODE>
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<!-- ############################################################################## -->
	<ParametersFn Name="ASOBO_Get_Flaps_Slats_Animation_Parameters">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Flaps_Slats_Parameters_Helper"/>
		</Parameters>
		<Parameters Type="Default">
			<ANIM_CODE_L>#GET_L_SURFACE_PERCENT#</ANIM_CODE_L>
			<ANIM_CODE_R>#GET_R_SURFACE_PERCENT#</ANIM_CODE_R>
		</Parameters>
		<ReturnParameters>
			<ANIM_CODE_L>#ANIM_CODE_L#</ANIM_CODE_L>
			<ANIM_CODE_R>#ANIM_CODE_R#</ANIM_CODE_R>
		</ReturnParameters>
	</ParametersFn>
	<!-- ############################################################################## -->
	<ParametersFn Name="ASOBO_Get_Spoilers_Animation_Parameters">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Spoilers_Parameters_Helper"/>
		</Parameters>
		<Parameters Type="Default">
			<Switch Param="SPOILERS_ANIMATION_TYPE">
				<Case Value="MIXED">
					<ANIM_CODE_L>#GET_L_SPOILERS_PERCENT#</ANIM_CODE_L>
					<ANIM_CODE_R>#GET_R_SPOILERS_PERCENT#</ANIM_CODE_R>
				</Case>
				<Case Value="SPOILERONS_ONLY">
					<ANIM_CODE_L>#GET_L_SPOILERONS_PERCENT#</ANIM_CODE_L>
					<ANIM_CODE_R>#GET_R_SPOILERONS_PERCENT#</ANIM_CODE_R>
				</Case>
				<Case Value="SPOILERS_ONLY">
					<ANIM_CODE_L>#GET_L_SPOILERS_WITHOUT_SPOILERONS_PERCENT#</ANIM_CODE_L>
					<ANIM_CODE_R>#GET_R_SPOILERS_WITHOUT_SPOILERONS_PERCENT#</ANIM_CODE_R>
				</Case>
			</Switch>
		</Parameters>
		<ReturnParameters>
			<ANIM_CODE_L>#ANIM_CODE_L#</ANIM_CODE_L>
			<ANIM_CODE_R>#ANIM_CODE_R#</ANIM_CODE_R>
		</ReturnParameters>
	</ParametersFn>
	<!-- ############################################################################## -->
	<ParametersFn Name="ASOBO_Get_Water_Rudder_Animation_Parameters">
		<Parameters Type="Default">
			<SIDE>LEFT</SIDE>
		</Parameters>
		<Parameters Type="Override">
			<SIMVAR_WATER_RUDDER>WATER #SIDE# RUDDER EXTENDED</SIMVAR_WATER_RUDDER>
		</Parameters>
		<Parameters Type="Override">
			<GET_WATER_RUDDER>(A:#SIMVAR_WATER_RUDDER#, percent)</GET_WATER_RUDDER>
		</Parameters>
		<ReturnParameters>
			<GET_WATER_RUDDER>#GET_WATER_RUDDER#</GET_WATER_RUDDER>
		</ReturnParameters>
	</ParametersFn>
	<!-- ############################################################################## -->
	<ParametersFn Name="ASOBO_Get_Ski_Animation_Parameters">
		<Parameters Type="Default">
			<ID>0</ID>
			<TAKEOFF_COMPRESSION_PCT>8</TAKEOFF_COMPRESSION_PCT>
			<TAKEOFF_ANIM_PCT>52.1</TAKEOFF_ANIM_PCT>
			<IDLE_COMPRESSION_PCT>20</IDLE_COMPRESSION_PCT>
			<IDLE_ANIM_PCT>78.2</IDLE_ANIM_PCT>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Get_Non_Linear_Animation_Code">
				<SELECTION>(A:CONTACT POINT COMPRESSION:#SKI_ID#, percent)</SELECTION>
				<MIN_DISPLAYABLE>0</MIN_DISPLAYABLE>
				<MAX_DISPLAYABLE>100</MAX_DISPLAYABLE>
				<ANIM_VALUE_0>0</ANIM_VALUE_0>
				<REF_VALUE_0>0</REF_VALUE_0>
				<ANIM_VALUE_1>#TAKEOFF_ANIM_PCT#</ANIM_VALUE_1>
				<REF_VALUE_1>#TAKEOFF_COMPRESSION_PCT#</REF_VALUE_1>
				<ANIM_VALUE_2>#IDLE_ANIM_PCT#</ANIM_VALUE_2>
				<REF_VALUE_2>#IDLE_COMPRESSION_PCT#</REF_VALUE_2>
				<ANIM_VALUE_3>100</ANIM_VALUE_3>
				<REF_VALUE_3>100</REF_VALUE_3>
				<MAX_POINT_INDEX>3</MAX_POINT_INDEX>
			</UseParametersFn>
		</Parameters>
		<ReturnParameters>
			<GET_SKI_ANIMATION>#ANIM_CODE#</GET_SKI_ANIMATION>
		</ReturnParameters>
	</ParametersFn>
	<!-- ############################################################################## -->
</ModelBehaviors>