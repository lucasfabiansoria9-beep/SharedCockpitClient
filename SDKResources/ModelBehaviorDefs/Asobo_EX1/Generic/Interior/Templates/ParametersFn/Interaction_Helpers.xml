<ModelBehaviors>
	<!-- ################################# INTERACTION ################################ -->
	<!-- ############################################################################## -->
	<!-- IN: IE_NAME -->
	<!-- IN: IE_ID_SOURCE -->
	<!-- OUT: IE_PRESET_ID -->
	<ParametersFn Name="ASOBO_Get_IE_Preset_ID_Helper">
		<ReturnParameters>
			<IE_PRESET_ID>#IE_ID_SOURCE#_#IE_NAME#</IE_PRESET_ID>
			<IE_ID_SOURCE>#IE_ID_SOURCE#</IE_ID_SOURCE>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN: IE_NAME -->
	<!-- IN: IE_BASE_NAME (Base name of the input event) -->
	<!-- OUT: IE_PRESET_ID -->
	<ParametersFn Name="ASOBO_Get_IE_Preset_ID_Parameters_Helper">
		<Parameters Type="Default">
			<IE_ID_SOURCE>#IE_BASE_NAME#</IE_ID_SOURCE>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Get_IE_Preset_ID_Helper"/>
			<IE_TO_USE>#IE_BASE_NAME#</IE_TO_USE>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN: OUT_PARAM_NAME (name of the parameter to look for) -->
	<!-- OUT: tooltip formatted based on input TT_ID, TT_INDEX -->
	<ParametersFn Name="ASOBO_Get_Tooltip_Parameters_Helper">
		<Parameters Type="Default">
			<Condition NotEmpty="#OUT_PARAM_NAME#_ID">
				<True>
					<TT_CONTENT Process="Param">#OUT_PARAM_NAME#_ID</TT_CONTENT>
					<TT_CONTENT_IS_DYNAMIC>False</TT_CONTENT_IS_DYNAMIC>
				</True>
				<False>
					<TT_CONTENT Process="Param">#OUT_PARAM_NAME#</TT_CONTENT>
					<TT_CONTENT_IS_DYNAMIC>True</TT_CONTENT_IS_DYNAMIC>
				</False>
			</Condition>
			<Condition NotEmpty="#OUT_PARAM_NAME#_INDEX">
				<TT_CONTENT_INDEX Process="Param">#OUT_PARAM_NAME#_INDEX</TT_CONTENT_INDEX>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="TT_CONTENT_INDEX">
				<TT_CONTENT_IS_DYNAMIC>True</TT_CONTENT_IS_DYNAMIC>
				<TT_CONTENT>#TT_CONTENT_INDEX# (R:1:#TT_CONTENT#) @sprintf</TT_CONTENT>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<Condition NotEmpty="TT_CONTENT">
				<#OUT_PARAM_NAME#>#TT_CONTENT#</#OUT_PARAM_NAME#>
				<#OUT_PARAM_NAME#_IS_DYNAMIC>#TT_CONTENT_IS_DYNAMIC#</#OUT_PARAM_NAME#_IS_DYNAMIC>				
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Format_Tooltips_Title_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Get_Tooltip_Parameters_Helper">
				<OUT_PARAM_NAME>TOOLTIPS_TITLE</OUT_PARAM_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Format_Tooltip_Description_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Get_Tooltip_Parameters_Helper">
				<OUT_PARAM_NAME>IE_TOOLTIP_DESCRIPTION</OUT_PARAM_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Format_Tooltip_Value_Helper">
		<ReturnParameters>
			<Condition Check="NO_TOOLTIP_VALUE">
				<True>
					<IE_TOOLTIP_VALUE />
					<IE_TOOLTIP_VALUE_IS_DYNAMIC>False</IE_TOOLTIP_VALUE_IS_DYNAMIC>
				</True>
				<False>
					<UseParametersFn Name="ASOBO_Get_Tooltip_Parameters_Helper">
						<OUT_PARAM_NAME>IE_TOOLTIP_VALUE</OUT_PARAM_NAME>
					</UseParametersFn>
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Define_Default_Tooltip_ID_Helper">
		<ReturnParameters>
			<Condition Check="IE_ID_SOURCE">
				<True>
					<DEFAULT_TOOLTIP_ID Process="String">'#IE_ID_SOURCE#_#IE_NAME#' uc</DEFAULT_TOOLTIP_ID>	
				</True>
				<False>
					<DEFAULT_TOOLTIP_ID Process="String">'#IE_NAME#' uc</DEFAULT_TOOLTIP_ID>					
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Interaction_Tooltip_Helper">
		<Parameters Type="Default">
			<Condition NotEmpty="DEFAULT_TOOLTIP_ID">
				<TOOLTIP_ID>#DEFAULT_TOOLTIP_ID#</TOOLTIP_ID>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition>
				<Test>
					<And>
						<Arg NotEmpty="ID"/>
						<Arg Valid="TOOLTIP_ID_WITH_NO_ID"/>
					</And>
				</Test>
				<True>
					<!-- Manual override preventing use of ID indexed tooltips title when it doesn't make sense to use one -->
					<INDEX_TOOLTIPS_TITLE>False</INDEX_TOOLTIPS_TITLE>
				</True>
				<False>
					<Condition NotEmpty="ID">
						<INDEX_TOOLTIPS_TITLE>True</INDEX_TOOLTIPS_TITLE>
					</Condition>
				</False>
			</Condition>
		</Parameters>
		<Parameters Type="Default">
			<Condition Check="TOOLTIP_ID">
				<Condition NotEmpty="TOOLTIPS_TITLE_INDEX">
					<True>
						<TOOLTIPS_TITLE_ID>#TOOLTIPS_TITLE_PACKAGE#.TITLE.DYNAMIC.#TOOLTIP_ID#</TOOLTIPS_TITLE_ID>					
					</True>
					<False>
						<Condition Valid="INDEX_TOOLTIPS_TITLE">
							<True>
								<TOOLTIPS_TITLE_ID>#TOOLTIPS_TITLE_PACKAGE#.TITLE.ID.#TOOLTIP_ID#</TOOLTIPS_TITLE_ID>
								<TOOLTIPS_TITLE_INDEX>#ID#</TOOLTIPS_TITLE_INDEX>
							</True>
							<False>
								<TOOLTIPS_TITLE_ID>#TOOLTIPS_TITLE_PACKAGE#.TITLE.#TOOLTIP_ID#</TOOLTIPS_TITLE_ID>
							</False>
						</Condition>
					</False>
				</Condition>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<TOOLTIPS_TITLE_ID>#TOOLTIPS_TITLE_ID#</TOOLTIPS_TITLE_ID>
			<Condition NotEmpty="TOOLTIPS_TITLE_INDEX">
				<TOOLTIPS_TITLE_INDEX>#TOOLTIPS_TITLE_INDEX#</TOOLTIPS_TITLE_INDEX>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Interaction_Tooltip_Action_Helper">
		<Switch Param="INTERACTION_VARIANT">
			<Case Value="XSTATES">
				<Parameters Type="Override">
					<UseParametersFn Name="ASOBO_Count_Token_In_Save_Helper">
						<OUT_PARAM_NAME_COUNT>NUM_STATES</OUT_PARAM_NAME_COUNT>
						<TOKEN_PREFIX>#BASE_IE_NAME_UC#_POS_</TOKEN_PREFIX>
						<TOKEN_COLLECTION>#SPARAMS_STATES#</TOKEN_COLLECTION>
					</UseParametersFn>
				</Parameters>
			</Case>
		</Switch>
		<Parameters Type="Default">
			<Condition Check="#BASE_IE_NAME_UC#_IE_TOOLTIP_ACTION">
				<True>
					<IE_TOOLTIP_ACTION Process="Param">#BASE_IE_NAME_UC#_IE_TOOLTIP_ACTION</IE_TOOLTIP_ACTION>
					<Condition Check="#BASE_IE_NAME_UC#_IE_TOOLTIP_ELEMENT">
						<True>
							<IE_TOOLTIP_ELEMENT Process="Param">#BASE_IE_NAME_UC#_IE_TOOLTIP_ELEMENT</IE_TOOLTIP_ELEMENT>							
						</True>
						<False>
							<IE_TOOLTIP_ELEMENT>POSITION</IE_TOOLTIP_ELEMENT>
						</False>
					</Condition>
				</True>
				<False>
					<Switch Param="INTERACTION_TYPE">
						<Case Value="Button">
							<Switch Param="BUTTON_TYPE">
								<Case Value="Push_Pull">
									<IE_TOOLTIP_ACTION Process="String">'#THIS_BUTTON_TYPE#' uc</IE_TOOLTIP_ACTION>
								</Case>
								<Default>
									<IE_TOOLTIP_ACTION Process="String">'#BUTTON_TYPE#' uc</IE_TOOLTIP_ACTION>
								</Default>
							</Switch>
							<IE_TOOLTIP_ELEMENT>BUTTON</IE_TOOLTIP_ELEMENT>
						</Case>
						<Default>
							<Switch Param="INTERACTION_TYPE">
								<Case Value="Lever">
									<IE_TOOLTIP_ACTION>SET</IE_TOOLTIP_ACTION>							
								</Case>
								<Case Value="Knob">
									<Switch Param="INTERACTION_VARIANT">
										<Case Value="XSTATES">
											<Condition Check="NUM_STATES" Match="2">
												<True>
													<IE_TOOLTIP_ACTION>TOGGLE</IE_TOOLTIP_ACTION>
												</True>
												<False>
													<IE_TOOLTIP_ACTION>SET</IE_TOOLTIP_ACTION>
												</False>
											</Condition>
										</Case>
										<Default>
											<IE_TOOLTIP_ACTION>ADJUST</IE_TOOLTIP_ACTION>
										</Default>
									</Switch>										
								</Case>
								<Default>
									<Condition Check="NUM_STATES" Match="2">
										<True>
											<IE_TOOLTIP_ACTION>TOGGLE</IE_TOOLTIP_ACTION>
										</True>
										<False>
											<IE_TOOLTIP_ACTION>SET</IE_TOOLTIP_ACTION>
										</False>
									</Condition>	
								</Default>
							</Switch>
							<IE_TOOLTIP_ELEMENT>POSITION</IE_TOOLTIP_ELEMENT>
						</Default>
					</Switch>
				</False>
			</Condition>
		</Parameters>
		<Parameters Type="Default">
			<TOOLTIP_ACTION>#IE_TOOLTIP_ACTION#</TOOLTIP_ACTION>
			<TOOLTIP_ELEMENT>#IE_TOOLTIP_ELEMENT#</TOOLTIP_ELEMENT>
		</Parameters>
		<Parameters Type="Default">
			<TOOLTIP_ACTION_DESCRIPTION>#TOOLTIP_ELEMENT#_#TOOLTIP_ACTION#</TOOLTIP_ACTION_DESCRIPTION>
		</Parameters>
		<Parameters Type="Default">
			<IE_TOOLTIP_DESCRIPTION_ID>#TOOLTIP_ACTION_PACKAGE#.ACTION.#TOOLTIP_ACTION_DESCRIPTION#</IE_TOOLTIP_DESCRIPTION_ID>						
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#IE_PARAMS#" Append="Default">
				<UseParametersFn Name="ASOBO_Format_Tooltip_Description_Helper"/>
			</SaveParameters>
			<SaveParameters ID="Mouserect_Parameters" Append="Default">
				<TOOLTIPS_ENTRY_#INPUT_EVENT_ID#>#IE_PRESET_ID#</TOOLTIPS_ENTRY_#INPUT_EVENT_ID#>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Format_Tooltip_Value_Units_Helper">
		<Parameters Type="Default">
			<VAR_TOOLTIP_VALUE_UNIT>#IE_VALUE_UNITS#</VAR_TOOLTIP_VALUE_UNIT>
		</Parameters>
		<Parameters Type="Override">
			<UNITS_UC Process="String">'#VAR_TOOLTIP_VALUE_UNIT#' uc</UNITS_UC>
		</Parameters>
		<Parameters Type="Default">
			<Switch Param="UNITS_UC">
				<Case Value="PERCENT">
					<TOOLTIP_VALUE_FORMAT>'%.1f%%'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="PERCENT OVER 100">
					<TOOLTIP_VALUE_FORMAT>100 * '%.1f%%'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="POSITION">
					<TOOLTIP_VALUE_FORMAT>100 * '%.1f%%'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="POSITION 16K">
					<TOOLTIP_VALUE_FORMAT>@16K / 100 * '%.1f%%'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="DEGREES">
					<TOOLTIP_VALUE_FORMAT>'%d&deg;'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="FEET">
					<TOOLTIP_VALUE_FORMAT>'%d ft'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="FEET PER MINUTE">
					<TOOLTIP_VALUE_FORMAT>'%d ft/min'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="FEET PER SECOND">
					<TOOLTIP_VALUE_FORMAT>'%d ft/sec'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="PSI">
					<TOOLTIP_VALUE_FORMAT>'%.1f psi'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="PSF">
					<TOOLTIP_VALUE_FORMAT>'%d psf'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="KNOTS">
					<TOOLTIP_VALUE_FORMAT>'%d KTS'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="MACH">
					<TOOLTIP_VALUE_FORMAT>'%.3f M'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="MILLIBAR">
					<TOOLTIP_VALUE_FORMAT>'%.1f HPA'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="INHG">
					<TOOLTIP_VALUE_FORMAT>'%.2f IN'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="AMPS">
					<TOOLTIP_VALUE_FORMAT>'%.1f A'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Case Value="VOLTS">
					<TOOLTIP_VALUE_FORMAT>'%.1f V'</TOOLTIP_VALUE_FORMAT>
				</Case>
				<Default>
					<TOOLTIP_VALUE_FORMAT>'%.1f'</TOOLTIP_VALUE_FORMAT>					
				</Default>
			</Switch>
		</Parameters>
		<ReturnParameters>
			<TOOLTIP_VALUE_FORMAT>#TOOLTIP_VALUE_FORMAT#</TOOLTIP_VALUE_FORMAT>
			<VAR_TOOLTIP_VALUE_UNIT>#VAR_TOOLTIP_VALUE_UNIT#</VAR_TOOLTIP_VALUE_UNIT>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN (opt): OUT_PARAM_NAME (Name of the param to receive the jump flag value) -->
	<!-- OUT: Next safe jump flag to use -->
	<ParametersFn Name="ASOBO_Get_Next_Safe_Jump_Flag_Helper">
		<Parameters Type="Default">
			<TEMP_RPN_DATA_STORAGE>Mouserect_Data</TEMP_RPN_DATA_STORAGE>
		</Parameters>
		<Parameters Type="Override">
			<LoadParameters ID="#TEMP_RPN_DATA_STORAGE#"/>
		</Parameters>
		<Parameters Type="Default">
			<OUT_PARAM_NAME>NEXT_SAFE_JUMP_FLAG</OUT_PARAM_NAME>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Increment_ID_Helper">
				<OUT_PARAM_ID_NAME>MR_LAST_JUMP_FLAG_USED</OUT_PARAM_ID_NAME>
			</UseParametersFn>
		</Parameters>
		<ReturnParameters>
			<SaveParameters ID="#TEMP_RPN_DATA_STORAGE#" Append="Override">
				<MR_LAST_JUMP_FLAG_USED>#MR_LAST_JUMP_FLAG_USED#</MR_LAST_JUMP_FLAG_USED>
			</SaveParameters>
			<#OUT_PARAM_NAME#>#MR_LAST_JUMP_FLAG_USED#</#OUT_PARAM_NAME#>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN (opt): OUT_PARAM_NAME (Name of the param to receive the var value) -->
	<!-- OUT: Next var to to use -->
	<ParametersFn Name="ASOBO_Get_Next_Safe_Var_Helper">
		<Parameters Type="Default">
			<TEMP_RPN_DATA_STORAGE>Mouserect_Data</TEMP_RPN_DATA_STORAGE>
		</Parameters>
		<Parameters Type="Override">
			<LoadParameters ID="#TEMP_RPN_DATA_STORAGE#"/>
		</Parameters>
		<Parameters Type="Default">
			<OUT_PARAM_NAME>NEXT_SAFE_VAR</OUT_PARAM_NAME>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Increment_ID_Helper">
				<OUT_PARAM_ID_NAME>MR_LAST_VAR_USED</OUT_PARAM_ID_NAME>
			</UseParametersFn>
		</Parameters>
		<ReturnParameters>
			<SaveParameters ID="#TEMP_RPN_DATA_STORAGE#" Append="Override">
				<MR_LAST_VAR_USED>#MR_LAST_VAR_USED#</MR_LAST_VAR_USED>
			</SaveParameters>
			<#OUT_PARAM_NAME#>#MR_LAST_VAR_USED#</#OUT_PARAM_NAME#>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN: AXIS_THRESHOLD_COUNT_VAR (Var to store how many times the threshold has been crossed) -->
	<!-- OR -->
	<!-- IN: POSITIVE_AXIS_DRAG (What to do when incrementing once) -->
	<!-- IN: NEGATIVE_AXIS_DRAG (What to do when decrementing once) -->
	<!-- OUT: DELTA_VALUE (Code handling a delta position with accounted configurable threshold to control the step) -->
	<ParametersFn Name="ASOBO_Get_Delta_Value_Threshold_Helper">
		<Parameters Type="Default">
			<Switch Param="AXIS">
				<Case Value="X">
					<MR_REL_AXIS_VALUE>@MR_Rel_X</MR_REL_AXIS_VALUE>
				</Case>
				<Case Value="Y">
					<MR_REL_AXIS_VALUE>@MR_Rel_Y</MR_REL_AXIS_VALUE>
				</Case>
			</Switch>
			<UseParametersFn Name="ASOBO_Get_Delta_Threshold_Values_Helper"/>
			<VAR_LAST_VALUE>O:_Last#AXIS#</VAR_LAST_VALUE>
			<VAR_THRESHOLD>O:_InputThreshold</VAR_THRESHOLD>
			<Condition NotEmpty="AXIS_THRESHOLD_COUNT_VAR">
				<False>
					<UseParametersFn Name="ASOBO_Get_Next_Safe_Jump_Flag_Helper">
						<OUT_PARAM_NAME>FL_LOOP_BEGIN</OUT_PARAM_NAME>
					</UseParametersFn>
					<UseParametersFn Name="ASOBO_Get_Next_Safe_Jump_Flag_Helper">
						<OUT_PARAM_NAME>FL_LOOP_END</OUT_PARAM_NAME>
					</UseParametersFn>
					<UseParametersFn Name="ASOBO_Get_Next_Safe_Var_Helper">
						<OUT_PARAM_NAME>VAR_RATIO_THRESHOLD</OUT_PARAM_NAME>
					</UseParametersFn>
					<POSITIVE_AXIS_DRAG/>
					<NEGATIVE_AXIS_DRAG/>
				</False>
			</Condition>
			<UseParametersFn Name="ASOBO_Get_Next_Safe_Var_Helper">
				<OUT_PARAM_NAME>VAR_DELTA</OUT_PARAM_NAME>
			</UseParametersFn>
			<UseParametersFn Name="ASOBO_Get_Next_Safe_Var_Helper">
				<OUT_PARAM_NAME>VAR_REMAINING_THRESHOLD</OUT_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
		<Parameters Type="Override">
			<Condition Valid="MR_INVERT_DRAG_POSITIVE_CONDITION">
				<True>
					<DRAG_IS_POSITIVE_CONDITION>0 &lt;=</DRAG_IS_POSITIVE_CONDITION>
				</True>
				<False>
					<DRAG_IS_POSITIVE_CONDITION>0 &gt;</DRAG_IS_POSITIVE_CONDITION>
				</False>
			</Condition>
			<Switch>
				<Case Valid="NORMALIZE_THRESHOLD">
					<THRESHOLD_TRANSFORM_VALUE>sign</THRESHOLD_TRANSFORM_VALUE>
				</Case>
				<Default>
					<THRESHOLD_TRANSFORM_VALUE/>
				</Default>
			</Switch>
		</Parameters>
		<ReturnParameters>
			<DELTA_VALUE_INIT>#MR_REL_AXIS_VALUE# (&gt;#VAR_LAST_VALUE#)</DELTA_VALUE_INIT>
			<Switch>
				<Case NotEmpty="AXIS_THRESHOLD_COUNT_VAR">
					<DELTA_VALUE>
						0 (&gt;#AXIS_THRESHOLD_COUNT_VAR#)
						#MR_REL_AXIS_VALUE# (#VAR_LAST_VALUE#) - sp#VAR_DELTA#
						#THRESHOLD# (&gt;#VAR_THRESHOLD#)
						l#VAR_DELTA# abs (#VAR_THRESHOLD#) &gt; if{
							l#VAR_DELTA# (#VAR_THRESHOLD#) / abs flr #THRESHOLD_TRANSFORM_VALUE# (&gt;#AXIS_THRESHOLD_COUNT_VAR#)
							l#VAR_DELTA# (#VAR_THRESHOLD#) % abs sp#VAR_REMAINING_THRESHOLD#
							#MR_REL_AXIS_VALUE# l#VAR_REMAINING_THRESHOLD# l#VAR_DELTA# sign * + (&gt;#VAR_LAST_VALUE#)
							l#VAR_DELTA# #DRAG_IS_POSITIVE_CONDITION# ! if{ -1 (#AXIS_THRESHOLD_COUNT_VAR#) * (&gt;#AXIS_THRESHOLD_COUNT_VAR#) }
						}
					</DELTA_VALUE>
				</Case>
				<Default>
					<DELTA_VALUE>
						#MR_REL_AXIS_VALUE# (#VAR_LAST_VALUE#) - sp#VAR_DELTA#
						#THRESHOLD# (&gt;#VAR_THRESHOLD#)
						l#VAR_DELTA# abs (#VAR_THRESHOLD#) &gt; if{
							l#VAR_DELTA# (#VAR_THRESHOLD#) / abs flr sp#VAR_RATIO_THRESHOLD#
							l#VAR_DELTA# (#VAR_THRESHOLD#) % abs sp#VAR_REMAINING_THRESHOLD#
							:#FL_LOOP_BEGIN# (* for loop *)
							l#VAR_RATIO_THRESHOLD# 0 &lt;= if{ g#FL_LOOP_END# }
							l#VAR_RATIO_THRESHOLD# -- sp#VAR_RATIO_THRESHOLD#
							l#VAR_DELTA# #DRAG_IS_POSITIVE_CONDITION# if{
								#POSITIVE_AXIS_DRAG#
							} els{
								#NEGATIVE_AXIS_DRAG#
							}
							g#FL_LOOP_BEGIN#
							:#FL_LOOP_END# 
							#MR_REL_AXIS_VALUE# l#VAR_REMAINING_THRESHOLD# l#VAR_DELTA# sign * + (&gt;#VAR_LAST_VALUE#)
						}
					</DELTA_VALUE>
				</Default>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Extremely_Small">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.00025</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.0001</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.00025</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Very_Small">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.001</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.00025</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.001</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Small">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.0025</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.001</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.0025</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Medium">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.00625</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.004</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.00625</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Large">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.015625</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.016</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.015625</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_Very_Large">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.039</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.032</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.039</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_States">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.01</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.005</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.01</THRESHOLD_VR>
			<NORMALIZE_THRESHOLD>True</NORMALIZE_THRESHOLD>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Drag_Threshold_States_No_Gates">
		<ReturnParameters>
			<THRESHOLD_RELATIVE>0.025</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>0.025</THRESHOLD_ASBOLUTE>
			<THRESHOLD_VR>0.025</THRESHOLD_VR>
		</ReturnParameters>
	</ParametersFn>
	<!-- OUT: TRHESHOLD -->
	<ParametersFn Name="ASOBO_Get_Delta_Threshold_Values_Helper">
		<Parameters Type="Override">
			<Condition Check="AXIS">
				<Condition Check="THRESHOLD_#AXIS#_RELATIVE">
					<THRESHOLD_RELATIVE Process="Param">THRESHOLD_#AXIS#_RELATIVE</THRESHOLD_RELATIVE>
					<Condition Check="THRESHOLD_#AXIS#_RELATIVE_BOOST">
						<THRESHOLD_RELATIVE_BOOST Process="Param">THRESHOLD_#AXIS#_RELATIVE_BOOST</THRESHOLD_RELATIVE_BOOST>
					</Condition>
				</Condition>
				<Condition Check="THRESHOLD_#AXIS#_ASBOLUTE">
					<THRESHOLD_ASBOLUTE Process="Param">THRESHOLD_#AXIS#_ASBOLUTE</THRESHOLD_ASBOLUTE>
					<Condition Check="THRESHOLD_#AXIS#_ASBOLUTE_BOOST">
						<THRESHOLD_ASBOLUTE_BOOST Process="Param">THRESHOLD_#AXIS#_ASBOLUTE_BOOST</THRESHOLD_ASBOLUTE_BOOST>
					</Condition>
				</Condition>
				<Condition Check="THRESHOLD_#AXIS#_VR">
					<THRESHOLD_VR Process="Param">THRESHOLD_#AXIS#_VR</THRESHOLD_VR>
					<Condition Check="THRESHOLD_#AXIS#_VR_BOOST">
						<THRESHOLD_VR_BOOST Process="Param">THRESHOLD_#AXIS#_VR_BOOST</THRESHOLD_VR_BOOST>
					</Condition>
				</Condition>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="THRESHOLD_RELATIVE_BOOST">
				<THRESHOLD_RELATIVE Process="Float">#THRESHOLD_RELATIVE# #THRESHOLD_RELATIVE_BOOST# *</THRESHOLD_RELATIVE>
			</Condition>
			<Condition Check="THRESHOLD_ABSOLUTE_BOOST">
				<THRESHOLD_ASBOLUTE Process="Float">#THRESHOLD_ASBOLUTE# #THRESHOLD_ABSOLUTE_BOOST# *</THRESHOLD_ASBOLUTE>
			</Condition>
			<Condition Check="THRESHOLD_VR_BOOST">
				<THRESHOLD_VR Process="Float">#THRESHOLD_VR# #THRESHOLD_VR_BOOST# *</THRESHOLD_VR>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="THRESHOLD_BOOST">
				<THRESHOLD_RELATIVE Process="Float">#THRESHOLD_RELATIVE# #THRESHOLD_BOOST# *</THRESHOLD_RELATIVE>
				<THRESHOLD_ASBOLUTE Process="Float">#THRESHOLD_ASBOLUTE# #THRESHOLD_BOOST# *</THRESHOLD_ASBOLUTE>
				<THRESHOLD_VR Process="Float">#THRESHOLD_VR# #THRESHOLD_BOOST# *</THRESHOLD_VR>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<THRESHOLD_RELATIVE>#THRESHOLD_RELATIVE#</THRESHOLD_RELATIVE>
			<THRESHOLD_ASBOLUTE>#THRESHOLD_ASBOLUTE#</THRESHOLD_ASBOLUTE>
			<THRESHOLD>#THRESHOLD_VR# #THRESHOLD_RELATIVE# #THRESHOLD_ASBOLUTE# @MR_Case_InputType</THRESHOLD>
		</ReturnParameters>
	</ParametersFn>
	<!-- helper to setup an enum -->
	<!-- IN: Saved enum values inside Enum_values -->
	<!-- IN (opt): ENUM_VALUES (name of the saved parameters to load to get the enum values) -->
	<!-- OUT: for each value ENUM_VAL: IS_ENUM_VAL & SET_ENUM_VAL (check the enum value and set it) -->
	<ParametersFn Name="ASOBO_Get_Enum_Parameters_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Get_Param_Prefix_Helper"/>
		</Parameters>
		<Parameters Type="Default">
			<VAR_SCOPE>O</VAR_SCOPE>
		</Parameters>
		<Parameters Type="Default">
			<Condition Check="IE_PRESET_ID">
				<True>
					<ENUM_VAR>XMLVAR_#IE_PRESET_ID#_Position</ENUM_VAR>
				</True>
				<False>
					<ENUM_VAR>XMLVAR_Generic_Enum</ENUM_VAR>					
				</False>
			</Condition>
			<ENUM_VALUES>Enum_values</ENUM_VALUES>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Watch_LocalVar_Helper">
				<LOCAL_VAR>#ENUM_VAR#</LOCAL_VAR>
				<VAR_SCOPE>#VAR_SCOPE#</VAR_SCOPE>
			</UseParametersFn>
			<#OUT_PARAM_PREFIX#ENUM_VAR>#ENUM_VAR#</#OUT_PARAM_PREFIX#ENUM_VAR>
			<#OUT_PARAM_PREFIX#ENUM_VAR_SCOPE>#VAR_SCOPE#</#OUT_PARAM_PREFIX#ENUM_VAR_SCOPE>
			<#OUT_PARAM_PREFIX#GET_ENUM_VAR>(#VAR_SCOPE#:#ENUM_VAR#)</#OUT_PARAM_PREFIX#GET_ENUM_VAR>
			<#OUT_PARAM_PREFIX#SET_ENUM_VAR>(&gt;#VAR_SCOPE#:#ENUM_VAR#)</#OUT_PARAM_PREFIX#SET_ENUM_VAR>
			<Loop>
				<Setup>
					<Param>POS_PARAM_NAME</Param>
					<Value>POS_VAL</Value>
					<Parameters>
						<UseParametersFn Name="ASOBO_Load_Then_Remove_Parameters_Helper">
							<SAVED_PARAMETERS>ENUM_VALUES</SAVED_PARAMETERS>
						</UseParametersFn>
					</Parameters>
				</Setup>
				<Do>
					<#OUT_PARAM_PREFIX#IS_#POS_PARAM_NAME#>#POS_VAL# (#VAR_SCOPE#:#ENUM_VAR#) ==</#OUT_PARAM_PREFIX#IS_#POS_PARAM_NAME#>
					<#OUT_PARAM_PREFIX#SET_#POS_PARAM_NAME#>#POS_VAL# (&gt;#VAR_SCOPE#:#ENUM_VAR#)</#OUT_PARAM_PREFIX#SET_#POS_PARAM_NAME#>
				</Do>
			</Loop>
		</ReturnParameters>
	</ParametersFn>
	<!-- OUT: MR_TO_IE_SET_VALUE (MR_TO_IE_SET_VALUE modified to include gates logic) -->
	<ParametersFn Name="ASOBO_Process_Gates_Parameters_Helper">
		<Parameters Type="Default">
			<GATES_TYPE>CONTINUOUS</GATES_TYPE>
			<UPDATE_VAR_LAST_DRAG_VALUE>True</UPDATE_VAR_LAST_DRAG_VALUE>
			<GATES_CHECK_TIMEOUT>True</GATES_CHECK_TIMEOUT>
			<TIMEOUT_CHECK_LIMITS>0.15</TIMEOUT_CHECK_LIMITS>
			<TIMEOUT_CHECK_LIMITS_VR>0.065</TIMEOUT_CHECK_LIMITS_VR>
			<GATE_MARGIN>0.01</GATE_MARGIN>
			<LIMITS_MIN>0</LIMITS_MIN>
			<LIMITS_MAX>100</LIMITS_MAX>
			<Switch Param="AXIS">
				<Case Value="TRAJECTORY">
					<GATES_CHECK_TIMEOUT_CONDITION>@MR_IsUsingRelativePos</GATES_CHECK_TIMEOUT_CONDITION>								
				</Case>
			</Switch>
			<UseParametersFn Name="ASOBO_Load_Then_Remove_Parameters_Helper">
				<SAVED_PARAMETERS>PLOAD_GATES_CONFIG</SAVED_PARAMETERS>
			</UseParametersFn>
			<Condition CheckSavedParameters="MR_Gates_Temp_Data">
				<RemoveSavedParameters ID="MR_Gates_Temp_Data"/>
			</Condition>
			<ON_ENTER_LOCK/>
			<ON_EXIT_LOCK/>
			<ON_INCREASE/>
			<ON_DECREASE/>
		</Parameters>
		<Parameters Type="Override">
			<TIMEOUT_CHECK_LIMITS>#TIMEOUT_CHECK_LIMITS_VR# #TIMEOUT_CHECK_LIMITS# @MR_IsUsingVRController ?</TIMEOUT_CHECK_LIMITS>
			<Loop>
				<Setup>
					<Param>CUR_ID</Param>
					<From>0</From>
					<Inc>1</Inc>
					<While>
						<Arg Check="GATE_#CUR_ID#"/>
					</While>
				</Setup>
				<Do>
					<Parameters Type="Override">
						<GATE_NAME Process="Param">GATE_#CUR_ID#</GATE_NAME>
					</Parameters>
					<Parameters Type="Override">
						<GATE_PERCENT Process="Param">#GATE_NAME#_ANIM_PERCENT</GATE_PERCENT>
					</Parameters>
					<Parameters Type="Override">
						<GATE_PERCENT_MARGIN_UP Process="Float">#GATE_PERCENT# #GATE_MARGIN# +</GATE_PERCENT_MARGIN_UP>
						<GATE_PERCENT_MARGIN_DOWN Process="Float">#GATE_PERCENT# #GATE_MARGIN# -</GATE_PERCENT_MARGIN_DOWN>
					</Parameters>
					<Parameters Type="Override">
						<Condition Check="#GATE_NAME#_GATE_DIRECTION">
							<True>
								<GATE_DIRECTION Process="Param">#GATE_NAME#_GATE_DIRECTION</GATE_DIRECTION>
							</True>
							<False>
								<GATE_DIRECTION>None</GATE_DIRECTION>
							</False>
						</Condition>
					</Parameters>
					<Parameters Type="Override">
						<Condition Check="GATE_DIRECTION" Match="None">
							<False>
								<Condition Check="#GATE_NAME#_GATE_CHECK">
									<True>
										<THIS_GATE_CHECK Process="Param">#GATE_NAME#_GATE_CHECK</THIS_GATE_CHECK>								
									</True>
									<False>
										<Switch Param="GATES_TYPE">
											<Case Value="CONTINUOUS">
												<Switch Param="GATE_DIRECTION">
													<Case Value="Both">
														<THIS_GATE_CHECK>l0 #GATE_PERCENT_MARGIN_UP# &gt; l1 #GATE_PERCENT_MARGIN_DOWN# &lt; and l0 #GATE_PERCENT_MARGIN_DOWN# &lt; l1 #GATE_PERCENT_MARGIN_UP# &gt; and or</THIS_GATE_CHECK>
													</Case>
													<Case Value="Inc">
														<THIS_GATE_CHECK>l0 #GATE_PERCENT_MARGIN_UP# &gt; l1 #GATE_PERCENT_MARGIN_DOWN# &lt; and</THIS_GATE_CHECK>
													</Case>
													<Case Value="Dec">
														<THIS_GATE_CHECK>l0 #GATE_PERCENT_MARGIN_DOWN# &lt; l1 #GATE_PERCENT_MARGIN_UP# &gt; and</THIS_GATE_CHECK>
													</Case>
												</Switch>
											</Case>
											<Case Value="XSTATES">
												<THIS_GATE_CHECK>l0 near #GATE_PERCENT# ==</THIS_GATE_CHECK>
											</Case>
										</Switch>
									</False>
								</Condition>
								<Condition Check="#GATE_NAME#_GATE_PADDING">
									<True>
										<GATE_PADDING Process="Param">#GATE_NAME#_GATE_PADDING</GATE_PADDING>
									</True>
									<False>
										<GATE_PADDING>1</GATE_PADDING>
									</False>
								</Condition>
								<Condition Check="#GATE_NAME#_GATE_ADDITIONAL_CHECK">
									<True>
										<GATE_ADDITIONAL_CHECK Process="Param">#GATE_NAME#_GATE_ADDITIONAL_CHECK</GATE_ADDITIONAL_CHECK>
									</True>
								</Condition>
							</False>
						</Condition>
					</Parameters>
					<Parameters Type="Override">
						<Condition Check="GATE_DIRECTION" Match="None">
							<False>
								<Condition Check="GATE_ADDITIONAL_CHECK">
									<THIS_GATE_CHECK>#THIS_GATE_CHECK# #GATE_ADDITIONAL_CHECK#</THIS_GATE_CHECK>
								</Condition>
							</False>
						</Condition>
					</Parameters>
					<Parameters Type="Override">
						<Condition Check="GATE_DIRECTION" Match="None">
							<False>
								<Condition Check="#GATE_NAME#_PADDING_CHECK">
									<True>
										<THIS_SAFE_ZONE_CHECK Process="Param">#GATE_NAME#_SAFE_ZONE_CHECK</THIS_SAFE_ZONE_CHECK>								
									</True>
									<False>
										<Switch Param="GATE_DIRECTION">
											<Case Value="Both">
												<THIS_SAFE_ZONE_CHECK>#GATE_PERCENT# l0 - abs #GATE_PADDING# &lt;</THIS_SAFE_ZONE_CHECK>
											</Case>
											<Case Value="Inc">
												<THIS_SAFE_ZONE_CHECK>#GATE_PERCENT# l0 - abs #GATE_PADDING# &lt; l0 #GATE_PERCENT# &lt; and</THIS_SAFE_ZONE_CHECK>
											</Case>
											<Case Value="Dec">
												<THIS_SAFE_ZONE_CHECK>#GATE_PERCENT# l0 - abs #GATE_PADDING# &lt; l0 #GATE_PERCENT# &gt; and</THIS_SAFE_ZONE_CHECK>
											</Case>
										</Switch>
									</False>
								</Condition>
							</False>
						</Condition>
					</Parameters>
					<Parameters Type="Override">
						<Switch Param="GATES_TYPE">
							<Case Value="CONTINUOUS">
								<Switch Param="GATE_DIRECTION">
									<Case Value="Both">
										<THIS_GATE_CLAMP_UPDATE_LIMITS>
											l0 #GATE_PERCENT# &gt; l1 #GATE_PERCENT# &lt; and if{ #GATE_PERCENT# (&gt;O:_LimitsMax) } els{ #GATE_PERCENT# (&gt;O:_LimitsMin) }
											l3 ! if{ #GATE_PERCENT# sp0 1 sp3 }
										</THIS_GATE_CLAMP_UPDATE_LIMITS>
										<THIS_GATE_UPDATE_LIMITS>
											l0 #GATE_PERCENT# &gt; if{ #GATE_PERCENT# (O:_LimitsMin) max (&gt;O:_LimitsMin) }
											l0 #GATE_PERCENT# &lt; if{ #GATE_PERCENT# (O:_LimitsMax) min (&gt;O:_LimitsMax) }
										</THIS_GATE_UPDATE_LIMITS>
									</Case>
									<Case Value="Inc">
										<THIS_GATE_CLAMP_UPDATE_LIMITS>#GATE_PERCENT# (&gt;O:_LimitsMax) l3 ! if{ #GATE_PERCENT# sp0 1 sp3 }</THIS_GATE_CLAMP_UPDATE_LIMITS>
										<THIS_GATE_UPDATE_LIMITS>l0 #GATE_PERCENT# &lt; if{ #GATE_PERCENT# (O:_LimitsMax) min (&gt;O:_LimitsMax) }</THIS_GATE_UPDATE_LIMITS>
									</Case>
									<Case Value="Dec">
										<THIS_GATE_CLAMP_UPDATE_LIMITS>#GATE_PERCENT# (&gt;O:_LimitsMin) l3 ! if{ #GATE_PERCENT# sp0 1 sp3 }</THIS_GATE_CLAMP_UPDATE_LIMITS>
										<THIS_GATE_UPDATE_LIMITS>l0 #GATE_PERCENT# &gt; if{ #GATE_PERCENT# (O:_LimitsMin) max (&gt;O:_LimitsMin) }</THIS_GATE_UPDATE_LIMITS>
									</Case>
								</Switch>
							</Case>
							<Case Value="XSTATES">
								<THIS_GATE_CLAMP_UPDATE_LIMITS>#GATE_PERCENT# (&gt;O:_LimitsMax) #GATE_PERCENT# (&gt;O:_LimitsMin)</THIS_GATE_CLAMP_UPDATE_LIMITS>
							</Case>
						</Switch>
					</Parameters>
					<Parameters Type="Override">
						<Switch Param="GATES_TYPE">
							<Case Value="CONTINUOUS">
								<Condition>
									<Test>
										<And>
											<Arg Check="THIS_GATE_CLAMP_UPDATE_LIMITS"/>
											<Arg Check="THIS_GATE_UPDATE_LIMITS"/>
										</And>
									</Test>
									<True>
										<THIS_GATE_CODE>
											#THIS_GATE_CHECK# if{ (O:_ShouldCheckLimitsPadding) ! #THIS_SAFE_ZONE_CHECK# ! (O:_ShouldCheckLimitsPadding) and or if{ #THIS_GATE_CLAMP_UPDATE_LIMITS# } } 
											els{ (O:_ShouldCheckLimitsPadding) ! #THIS_SAFE_ZONE_CHECK# ! (O:_ShouldCheckLimitsPadding) and or if{ #THIS_GATE_UPDATE_LIMITS# } }
										</THIS_GATE_CODE>
									</True>
								</Condition>
							</Case>
							<Case Value="XSTATES">
								<Condition Check="THIS_GATE_CLAMP_UPDATE_LIMITS">									
									<THIS_GATE_CODE>#THIS_GATE_CHECK# if{ #THIS_GATE_CLAMP_UPDATE_LIMITS# }</THIS_GATE_CODE>
								</Condition>
							</Case>
						</Switch>
					</Parameters>
					<Parameters Type="Override" Lifetime="Loop">
						<Condition Check="REFRESH_LIMITS_T">
							<True>
								<REFRESH_LIMITS_T>#REFRESH_LIMITS_T# #THIS_GATE_CODE#</REFRESH_LIMITS_T>
							</True>
							<False>
								<Condition Check="THIS_GATE_CODE">
									<REFRESH_LIMITS_T>#THIS_GATE_CODE#</REFRESH_LIMITS_T>									
								</Condition>
							</False>
						</Condition>
					</Parameters>
				</Do>
				<Then>
					<Condition Check="REFRESH_LIMITS_T">
						<Switch Param="GATES_TYPE">
							<Case Value="CONTINUOUS">
								<REFRESH_LIMITS>0 sp2 0 sp3 0 sp4 #REFRESH_LIMITS_T# l2 (&gt;O:_ShouldCheckLimits) l4 (&gt;O:_ShouldCheckLimitsPadding)</REFRESH_LIMITS>
							</Case>
							<Case Value="XSTATES">
								<REFRESH_LIMITS>0 sp2 #REFRESH_LIMITS_T# l2 (&gt;O:_ShouldCheckLimits)</REFRESH_LIMITS>
							</Case>
						</Switch>
					</Condition>
				</Then>
			</Loop>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="REFRESH_LIMITS">
				<Condition Valid="GATES_CHECK_TIMEOUT">
					<TIMEOUT_CHECK_RESET>
						@E_AbsoluteTime (O:_LastCheckTime) - #TIMEOUT_CHECK_LIMITS# &gt; if{ 
							#LIMITS_MIN# (&gt;O:_LimitsMin) #LIMITS_MAX# (&gt;O:_LimitsMax) 1 (&gt;O:_ShouldCheckLimits)
						} @E_AbsoluteTime (&gt;O:_LastCheckTime)
					</TIMEOUT_CHECK_RESET>
				</Condition>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="REFRESH_LIMITS">
				<Condition NotEmpty="GATES_CHECK_TIMEOUT_CONDITION">				
					<TIMEOUT_CHECK_RESET>#GATES_CHECK_TIMEOUT_CONDITION# if{ #TIMEOUT_CHECK_RESET# }</TIMEOUT_CHECK_RESET>
				</Condition>
				<Switch Param="GATES_TYPE">
					<Case Value="CONTINUOUS">
						<LAST_VALUE>(#VAR_LAST_DRAG_VALUE#)</LAST_VALUE>
					</Case>
					<Case Value="XSTATES">						
						<LAST_VALUE>#GATES_XTATES_GET_VALUE#</LAST_VALUE>
					</Case>
				</Switch>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="REFRESH_LIMITS">
				<Condition Check="TIMEOUT_CHECK_RESET">
					<True>
						<MR_TO_IE_SET_VALUE>#MR_TO_IE_SET_VALUE# sp0 #LAST_VALUE# sp1 #TIMEOUT_CHECK_RESET# (O:_ShouldCheckLimits) l0 l1 != and if{ #REFRESH_LIMITS# } l0</MR_TO_IE_SET_VALUE>
					</True>
					<False>
						<MR_TO_IE_SET_VALUE>#MR_TO_IE_SET_VALUE# min sp0 #LAST_VALUE# sp1 (O:_ShouldCheckLimits) l0 l1 != and if{ #REFRESH_LIMITS# } l0</MR_TO_IE_SET_VALUE>
					</False>
				</Condition>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<Condition Check="REFRESH_LIMITS">
				<Switch Param="GATES_TYPE">
					<Case Value="CONTINUOUS">
						<ON_ENTER_LOCK>#ON_ENTER_LOCK# #LIMITS_MIN# (&gt;O:_LimitsMin) #LIMITS_MAX# (&gt;O:_LimitsMax) 1 (&gt;O:_ShouldCheckLimits) 1 (&gt;O:_ShouldCheckLimitsPadding)</ON_ENTER_LOCK>
					</Case>
					<Case Value="XSTATES">
						<ON_ENTER_LOCK>#ON_ENTER_LOCK# #LIMITS_MIN# (&gt;O:_LimitsMin) #LIMITS_MAX# (&gt;O:_LimitsMax) 1 (&gt;O:_ShouldCheckLimits)</ON_ENTER_LOCK>
					</Case>
				</Switch>
				<MR_TO_IE_SET_VALUE>#MR_TO_IE_SET_VALUE# (O:_LimitsMin) max (O:_LimitsMax) min</MR_TO_IE_SET_VALUE>
				<Condition Valid="UPDATE_VAR_LAST_DRAG_VALUE">
					<ANIM_CODE>#ANIM_CODE# s0 (&gt;#VAR_LAST_DRAG_VALUE#) l0</ANIM_CODE>
				</Condition>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<!-- Interaction tooltips helpers -->
	<ParametersFn Name="ASOBO_Position_Preset_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Auto_Define_XStates_Variant_Helper"/>
		</Parameters>
		<Parameters Type="Default">
			<Condition Check="POSITION_PRESET">
				<GET_POSITIONS_PFN>ASOBO_Preset_#POSITION_PRESET#_Positions_Helper</GET_POSITIONS_PFN>				
			</Condition>
		</Parameters>
		<ReturnParameters>
			<INTERACTION_VARIANT>#INTERACTION_VARIANT#</INTERACTION_VARIANT>
			<Switch Param="INTERACTION_VARIANT">
				<Case Value="EVENT">
					<Condition Valid="EVENT_ONLY">
						<True>
							<GET_EVENT_INTERACTION_SETTINGS>#GET_POSITIONS_PFN#</GET_EVENT_INTERACTION_SETTINGS>
						</True>
						<False>
							<GET_#BASE_IE_NAME_UC#_SETTINGS>#GET_POSITIONS_PFN#</GET_#BASE_IE_NAME_UC#_SETTINGS>
							<UseParametersFn Name="ASOBO_Preset_Push_Button_Helper"/>
							<EVENT_TYPE>XSTATES</EVENT_TYPE>
						</False>
					</Condition>
				</Case>
				<Default>
					<GET_#BASE_IE_NAME_UC#_SETTINGS>#GET_POSITIONS_PFN#</GET_#BASE_IE_NAME_UC#_SETTINGS>
				</Default>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Auto_Define_XStates_Variant_Helper">
		<ReturnParameters>
			<Switch Param="INTERACTION_TYPE">
				<Case Value="Button">
					<INTERACTION_VARIANT>EVENT</INTERACTION_VARIANT>
					<EVENT_TYPE>XSTATES</EVENT_TYPE>
				</Case>
				<Case Value="Joystick">
					<INTERACTION_VARIANT>DIRECTIONAL_STATES</INTERACTION_VARIANT>
				</Case>
				<Default>
					<INTERACTION_VARIANT>XSTATES</INTERACTION_VARIANT>
				</Default>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<!-- Positions -->
	<Macro Name="ASOBO_Button_Pos_Neutral">Neutral</Macro>
	<ParametersFn Name="ASOBO_Preset_Button_Push_Positions_Helper">
		<Parameters Type="Default">
			<POS_NEUTRAL>0</POS_NEUTRAL>
			<POS_PUSH>1</POS_PUSH>
		</Parameters>
		<ReturnParameters>
			<EVENT_POS_#POS_NEUTRAL#>@ASOBO_Button_Pos_Neutral</EVENT_POS_#POS_NEUTRAL#>
			<EVENT_POS_#POS_PUSH#>Push</EVENT_POS_#POS_PUSH#>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Button_Pull_Positions_Helper">
		<Parameters Type="Default">
			<POS_NEUTRAL>0</POS_NEUTRAL>
			<POS_PULL>1</POS_PULL>
		</Parameters>
		<ReturnParameters>
			<EVENT_POS_#POS_PULL#>Pull</EVENT_POS_#POS_PULL#>
			<EVENT_POS_#POS_NEUTRAL#>@ASOBO_Button_Pos_Neutral</EVENT_POS_#POS_NEUTRAL#>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Button_Push_Pull_Positions_Helper">
		<Parameters Type="Default">
			<POS_PULL>0</POS_PULL>
			<POS_NEUTRAL>1</POS_NEUTRAL>
			<POS_PUSH>2</POS_PUSH>
		</Parameters>
		<ReturnParameters>
			<EVENT_POS_#POS_PULL#>Pull</EVENT_POS_#POS_PULL#>
			<EVENT_POS_#POS_NEUTRAL#>@ASOBO_Button_Pos_Neutral</EVENT_POS_#POS_NEUTRAL#>
			<EVENT_POS_#POS_PUSH#>Push</EVENT_POS_#POS_PUSH#>
		</ReturnParameters>
	</ParametersFn>
	<!-- Presets for Buttons -->
	<ParametersFn Name="ASOBO_Preset_Button_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Position_Preset_Helper">
				<EVENT_ONLY>True</EVENT_ONLY>
			</UseParametersFn>
			<Condition Check="BUTTON_TYPE">
				<BUTTON_TYPE>#BUTTON_TYPE#</BUTTON_TYPE>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Push_Button_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Preset_Button_Helper">
				<GET_POSITIONS_PFN>ASOBO_Preset_Button_Push_Positions_Helper</GET_POSITIONS_PFN>
				<BUTTON_TYPE>Push</BUTTON_TYPE>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Pull_Button_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Preset_Button_Helper">
				<GET_POSITIONS_PFN>ASOBO_Preset_Button_Pull_Positions_Helper</GET_POSITIONS_PFN>
				<BUTTON_TYPE>Pull</BUTTON_TYPE>
			</UseParametersFn>			
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Push_Pull_Button_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Preset_Button_Helper">
				<GET_POSITIONS_PFN>ASOBO_Preset_Button_Push_Pull_Positions_Helper</GET_POSITIONS_PFN>
				<BUTTON_TYPE>Push_Pull</BUTTON_TYPE>
			</UseParametersFn>			
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Preset_Button_Base_Helper">
		<Parameters Type="Default">
			<BUTTON_TYPE>Push</BUTTON_TYPE>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Preset_#BUTTON_TYPE#_Button_Helper"/>
		</ReturnParameters>
	</ParametersFn>
	<!-- Add simvar to watch -->
	<ParametersFn Name="ASOBO_Add_WatchVar_Helper">
		<Parameters Type="Override">
			<LoadParameters ID="#IE_PARAMS#"/>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Increment_ID_Helper">
				<OUT_PARAM_ID_NAME>#VAR_TYPE#_LAST_ID_USED</OUT_PARAM_ID_NAME>
			</UseParametersFn>
		</Parameters>
		<Parameters Type="Override">
			<LAST_ID_USED Process="Param">#VAR_TYPE#_LAST_ID_USED</LAST_ID_USED>
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#IE_PARAMS#" Append="Override">
				<#VAR_TYPE#_LAST_ID_USED>#LAST_ID_USED#</#VAR_TYPE#_LAST_ID_USED>
				<#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#>#VAR_TO_WATCH#</#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_Scoped_WatchVar_Helper">
		<Parameters Type="Override">
			<LoadParameters ID="#IE_PARAMS#"/>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Increment_ID_Helper">
				<OUT_PARAM_ID_NAME>#VAR_TYPE#_LAST_ID_USED</OUT_PARAM_ID_NAME>
			</UseParametersFn>
		</Parameters>
		<Parameters Type="Override">
			<LAST_ID_USED Process="Param">#VAR_TYPE#_LAST_ID_USED</LAST_ID_USED>
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#IE_PARAMS#" Append="Override">
				<#VAR_TYPE#_LAST_ID_USED>#LAST_ID_USED#</#VAR_TYPE#_LAST_ID_USED>
				<#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#>#VAR_TO_WATCH#</#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#>
				<#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#_SCOPE>#VAR_SCOPE#</#VAR_TYPE#_TO_WATCH_#LAST_ID_USED#_SCOPE>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_WatchVars_Helper">
		<Parameters Type="Override">
			<Loop>
				<Setup>
					<Value>#VAR_TYPE#</Value>
					<Parameters>
						<LoadParameters ID="Temp_#VAR_TYPE_LC#s_To_Watch"/>
						<RemoveSavedParameters ID="Temp_#VAR_TYPE_LC#s_To_Watch"/>
					</Parameters>
				</Setup>
				<Do>
					<UseParametersFn Name="ASOBO_Watch_#VAR_TYPE_LC#_Helper"/>
				</Do>
			</Loop>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_Simvar_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_WatchVar_Helper">
				<VAR_TYPE>SIMVAR</VAR_TYPE>
				<VAR_TO_WATCH>#SIMVAR#</VAR_TO_WATCH>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_Simvars_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_WatchVars_Helper">
				<VAR_TYPE>SIMVAR</VAR_TYPE>
				<VAR_TYPE_LC>Simvar</VAR_TYPE_LC>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_LocalVar_Helper">
		<Parameters Type="Default">
			<VAR_SCOPE>L</VAR_SCOPE>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="VAR_SCOPE" Match="L:1">
				<VAR_SCOPE>L</VAR_SCOPE>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_Scoped_WatchVar_Helper">
				<VAR_TYPE>LOCAL_VAR</VAR_TYPE>
				<VAR_TO_WATCH>#LOCAL_VAR#</VAR_TO_WATCH>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_LocalVars_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_WatchVars_Helper">
				<VAR_TYPE>LOCAL_VAR</VAR_TYPE>
				<VAR_TYPE_LC>LocalVar</VAR_TYPE_LC>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_GlobalVar_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_WatchVar_Helper">
				<VAR_TYPE>GLOBAL_VAR</VAR_TYPE>
				<VAR_TO_WATCH>#GLOBAL_VAR#</VAR_TO_WATCH>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Watch_GlobalVars_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_WatchVars_Helper">
				<VAR_TYPE>GLOBAL_VAR</VAR_TYPE>
				<VAR_TYPE_LC>GlobalVar</VAR_TYPE_LC>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Process_Watchers_Saves_Helper">
		<ReturnParameters>
			<Condition CheckSavedParameters="Temp_Simvars_To_Watch">
				<UseParametersFn Name="ASOBO_Watch_Simvars_Helper">
				</UseParametersFn>
			</Condition>
			<Condition CheckSavedParameters="Temp_LocalVars_To_Watch">
				<UseParametersFn Name="ASOBO_Watch_LocalVars_Helper">
				</UseParametersFn>
			</Condition>
			<Condition CheckSavedParameters="Temp_GlobalVars_To_Watch">
				<UseParametersFn Name="ASOBO_Watch_GlobalVars_Helper">
				</UseParametersFn>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<!-- Add IE Binding -->
	<ParametersFn Name="ASOBO_Add_Binding_Helper">
		<Parameters Type="Default">
			<Switch>
				<Case NotEmpty="ALIAS_ID">
					<BINDING_EVENT_TYPE>ALIAS_ID</BINDING_EVENT_TYPE>
					<BINDING_EVENT_NAME>#ALIAS_ID#</BINDING_EVENT_NAME>
				</Case>
				<Case NotEmpty="EVENT_ID">
					<BINDING_EVENT_TYPE>EVENT_ID</BINDING_EVENT_TYPE>
					<BINDING_EVENT_NAME>#EVENT_ID#</BINDING_EVENT_NAME>
				</Case>
			</Switch>
		</Parameters>
		<Parameters Type="Override">
			<BINDING_TYPE>#BINDING_EVENT#_#BINDING_EVENT_TYPE#</BINDING_TYPE>
			<LoadParameters ID="#IE_PARAMS#"/>
		</Parameters>
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Increment_ID_Helper">
				<OUT_PARAM_ID_NAME>BINDING_#BINDING_TYPE#_LAST_ID_USED</OUT_PARAM_ID_NAME>
			</UseParametersFn>
		</Parameters>
		<Parameters Type="Override">
			<LAST_ID_USED Process="Param">BINDING_#BINDING_TYPE#_LAST_ID_USED</LAST_ID_USED>
		</Parameters>
		<Parameters Type="Override">
			<BINDING_ID>BINDING_#BINDING_TYPE#_#LAST_ID_USED#</BINDING_ID>
			<BINDING_ACTION_TYPE>BINDING_#BINDING_TYPE#_#LAST_ID_USED#_ACTION_TYPE</BINDING_ACTION_TYPE>
			<BINDING_ACTION_TT_NAME>BINDING_#BINDING_TYPE#_#LAST_ID_USED#_ACTION_TT_NAME</BINDING_ACTION_TT_NAME>
			<BINDING_ACTION_TT_DESCRIPTION>BINDING_#BINDING_TYPE#_#LAST_ID_USED#_ACTION_TT_DESCRIPTION</BINDING_ACTION_TT_DESCRIPTION>
			<BINDING_ACTION_TT_FUNCTION>BINDING_#BINDING_TYPE#_#LAST_ID_USED#_ACTION_TT_FUNCTION</BINDING_ACTION_TT_FUNCTION>
			<BINDING_ACTION_TT_TAG>BINDING_#BINDING_TYPE#_#LAST_ID_USED#_ACTION_TT_TAG</BINDING_ACTION_TT_TAG>
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#IE_PARAMS#" Append="Override">
				<BINDING_#BINDING_TYPE#_LAST_ID_USED>#LAST_ID_USED#</BINDING_#BINDING_TYPE#_LAST_ID_USED>
				<#BINDING_ID#>#BINDING_EVENT_NAME#</#BINDING_ID#>
				<Condition NotEmpty="ACTION_TYPE">
					<#BINDING_ACTION_TYPE#>#ACTION_TYPE#</#BINDING_ACTION_TYPE#>					
				</Condition>
				<Condition NotEmpty="ACTION_TT_NAME">
					<#BINDING_ACTION_TT_NAME#>#ACTION_TT_NAME#</#BINDING_ACTION_TT_NAME#>					
				</Condition>
				<Condition NotEmpty="ACTION_TT_DESCRIPTION">
					<#BINDING_ACTION_TT_DESCRIPTION#>#ACTION_TT_DESCRIPTION#</#BINDING_ACTION_TT_DESCRIPTION#>					
				</Condition>
				<Condition NotEmpty="ACTION_TT_FUNCTION">					
					<#BINDING_ACTION_TT_FUNCTION#>#ACTION_TT_FUNCTION#</#BINDING_ACTION_TT_FUNCTION#>
				</Condition>
				<Condition NotEmpty="ACTION_TT_TAG">					
					<#BINDING_ACTION_TT_TAG#>#ACTION_TT_TAG#</#BINDING_ACTION_TT_TAG#>
				</Condition>
				<Loop>
					<Setup>
						<Param>PARAM_ID</Param>
						<From>0</From>
						<Inc>1</Inc>
						<While>
							<Arg Check="PARAM_#PARAM_ID#"/>
						</While>
					</Setup>
					<Do>
						<#BINDING_ID#_PARAM_#PARAM_ID# Process="Param">PARAM_#PARAM_ID#</#BINDING_ID#_PARAM_#PARAM_ID#>
						<Condition Check="PARAM_#PARAM_ID#_IS_DYNAMIC">
							<#BINDING_ID#_PARAM_#PARAM_ID#_IS_DYNAMIC Process="Param">PARAM_#PARAM_ID#_IS_DYNAMIC</#BINDING_ID#_PARAM_#PARAM_ID#_IS_DYNAMIC>
						</Condition>
					</Do>
				</Loop>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_Inc_Binding_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_Binding_Helper">
				<BINDING_EVENT>INC</BINDING_EVENT>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_Dec_Binding_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_Binding_Helper">
				<BINDING_EVENT>DEC</BINDING_EVENT>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_Set_Binding_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Add_Binding_Helper">
				<BINDING_EVENT>SET</BINDING_EVENT> 
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Process_Bindings_Saves_Helper">
		<Parameters Type="Default">
			<BINDINGS_TO_CREATE_PFN>Bindings_To_Create</BINDINGS_TO_CREATE_PFN>
		</Parameters>
		<Parameters Type="Override">
			<Loop>
				<Setup>
					<Param>SAVE_NAME</Param>
					<Value>BINDING_EVENT</Value>
					<Parameters>
						<LoadParameters ID="#BINDINGS_TO_CREATE_PFN#"/>
						<RemoveSavedParameters ID="#BINDINGS_TO_CREATE_PFN#"/>
					</Parameters>
				</Setup>
				<Do>
					<Parameters Type="Override"> 
						<UseParametersFn Name="ASOBO_Add_Binding_Helper">
							<LoadParameters ID="#SAVE_NAME#"/>
							<RemoveSavedParameters ID="#SAVE_NAME#"/>
						</UseParametersFn>
					</Parameters>
				</Do>
			</Loop>
		</Parameters>
	</ParametersFn>
	<!-- Helper for creating a cover interaction -->
	<ParametersFn Name="ASOBO_Make_Cover_Interaction_Helper">
		<Parameters Type="Default">
			<COVER_IE_TYPE>COMMON</COVER_IE_TYPE>
			<COVER_INTERACTION_TYPE>Switch</COVER_INTERACTION_TYPE>
		</Parameters>
		<Parameters Type="Default">
			<COVER_INTERACTION_TEMPLATE>ASOBO_IT_#COVER_IE_TYPE#_Interaction_Template</COVER_INTERACTION_TEMPLATE>
			<COVER_PFN_GET_PARAMETERS>ASOBO_Cover_Interaction_Parameters</COVER_PFN_GET_PARAMETERS>
		</Parameters>
		<ReturnParameters>
			<Condition Check="COVER_NODE_ID">
				<NODE_ID>#COVER_NODE_ID#</NODE_ID>
			</Condition>
			<Condition Check="COVER_ANIM_NAME">
				<ANIM_NAME>#COVER_ANIM_NAME#</ANIM_NAME>
			</Condition>
			<INTERACTION_TYPE>#COVER_INTERACTION_TYPE#</INTERACTION_TYPE>
			<INTERACTION_TEMPLATE>#COVER_INTERACTION_TEMPLATE#</INTERACTION_TEMPLATE>
			<PFN_GET_PARAMETERS>#COVER_PFN_GET_PARAMETERS#</PFN_GET_PARAMETERS>
			<IE_NAME>#COVER_ID#</IE_NAME>
		</ReturnParameters>
	</ParametersFn>
	<!-- Append to IE_PARAMS -->
	<ParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
		<Parameters Type="Override">
			<Condition CheckSavedParameters="#IE_PARAMS#" Check="#IE_PARAM_NAME#">
				<LoadParameters ID="#IE_PARAMS#"/>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#IE_PARAMS#" Append="Override">
				<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
					<PARAM>#IE_PARAM_NAME_SHORTHAND#</PARAM>
					<OUT_PARAM_NAME>#IE_PARAM_NAME#</OUT_PARAM_NAME>
				</UseParametersFn>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
		<Parameters Type="Override">
			<Condition Check="#IE_PARAM_NAME_SHORTHAND#">
				<SaveParameters ID="#IE_PARAMS#" Append="Override">
					<#IE_PARAM_NAME# Process="Param">#IE_PARAM_NAME_SHORTHAND#</#IE_PARAM_NAME#>
				</SaveParameters>				
			</Condition>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Append_Init_Code_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>INIT_CODE</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_VALUE_INIT_CODE</IE_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Append_Value_Code_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>VALUE_CODE</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_VALUE_CODE</IE_PARAM_NAME>
			</UseParametersFn>
			<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>VALUE_UNITS</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_VALUE_UNITS</IE_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Append_Inc_Code_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>INC_CODE</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_INC_CODE</IE_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Append_Dec_Code_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>DEC_CODE</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_DEC_CODE</IE_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Append_Set_Code_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Append_To_IE_PARAMS_Helper">
				<IE_PARAM_NAME_SHORTHAND>SET_CODE</IE_PARAM_NAME_SHORTHAND>
				<IE_PARAM_NAME>IE_SET_CODE</IE_PARAM_NAME>
			</UseParametersFn>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Default_TT_Name_Helper">
		<Parameters Type="Default">
			<OUT_PARAM_NAME>ACTION_TT_NAME</OUT_PARAM_NAME>
		</Parameters>
		<Condition Valid="DEFAULT_ACTION_TT_NAME">
			<Condition Valid="DEFAULT_ACTION_TT_NAME_TO_TOOLTIP_TITLE">
				<Parameters Type="Default">
					<ACTION_TT_SUFFIX />
				</Parameters>
				<Parameters Type="Override">
					<UseParametersFn Name="ASOBO_Format_Tooltips_Title_Helper">
						<UseParametersFn Name="ASOBO_Interaction_Tooltip_Helper">
							<TOOLTIP_ID_WITH_NO_ID/>
							<TOOLTIPS_TITLE_INDEX/>
							<ID/>
						</UseParametersFn>
						<TOOLTIPS_TITLE_INDEX/>
					</UseParametersFn>
				</Parameters>
			</Condition>
		</Condition>
		<Condition NotEmpty="TOOLTIPS_TITLE_INDEX">
			<Condition NotEmpty="IE_NAME_UID">
				<Parameters Type="Override">
					<ACTION_TT_SUFFIX Process="String">'_#IE_NAME_UID#' uc</ACTION_TT_SUFFIX>
				</Parameters>
			</Condition>
		</Condition>
		<Parameters Type="Default">
			<Condition>
				<Test>
					<And>
						<Arg Valid="DEFAULT_ACTION_TT_NAME_TO_TOOLTIP_TITLE"/>
						<Not>
							<Arg Valid="TOOLTIPS_TITLE_IS_DYNAMIC"/>
						</Not>
					</And>
				</Test>
				<True>
					<ACTION_TT_NAME>#ACTION_TT_PREFIX##TOOLTIPS_TITLE##ACTION_TT_SUFFIX#</ACTION_TT_NAME>
				</True>
				<False>
					<ACTION_TT_NAME>#DEFAULT_STATES_ACTION_TT_PACKAGE#.#ACTION_TT_NAME_PREFIX##ACTION_NAME##ACTION_TT_NAME_SUFFIX#</ACTION_TT_NAME>
				</False>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<#OUT_PARAM_NAME#>#ACTION_TT_NAME#</#OUT_PARAM_NAME#>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Configure_Action_Helper">
		<Parameters Type="Default">
			<Condition Check="IE_PARAMS">
				<Condition Valid="DEFAULT_ACTION_TT_NAME">
					<UseParametersFn Name="ASOBO_Default_TT_Name_Helper">
						<OUT_PARAM_NAME>ACTION_TT_NAME</OUT_PARAM_NAME>
						<ACTION_NAME>#IE_PRESET_ID_UC#_#EVENT_TYPE#</ACTION_NAME>
					</UseParametersFn>
				</Condition>
				<Condition Valid="DEFAULT_ACTION_TT_DESCRIPTION">
					<ACTION_TT_DESCRIPTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.#ACTION_TT_DESCRIPTION_PREFIX##IE_PRESET_ID_UC#_#EVENT_TYPE##ACTION_TT_DESCRIPTION_SUFFIX#</ACTION_TT_DESCRIPTION>						
				</Condition>
				<Condition Valid="DEFAULT_ACTION_TT_FUNCTION">
					<Condition Valid="DEFAULT_ACTION_TT_FUNCTION_TO_BUILTIN_FUNC">
						<True>
							<ACTION_TT_FUNCTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.FUNCTION_#EVENT_TYPE_NAME#</ACTION_TT_FUNCTION>
						</True>
						<False>
							<ACTION_TT_FUNCTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.#ACTION_TT_FUNCTION_PREFIX##IE_PRESET_ID_UC#_#EVENT_TYPE##ACTION_TT_FUNCTION_SUFFIX#</ACTION_TT_FUNCTION>
						</False>
					</Condition>					
				</Condition>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition Check="IE_PARAMS">
				<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
					<IE_PARAM_NAME_SHORTHAND>ACTION_TYPE</IE_PARAM_NAME_SHORTHAND>
					<IE_PARAM_NAME>IE_#EVENT_TYPE#_ACTION_TYPE</IE_PARAM_NAME>
				</UseParametersFn>
				<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
					<IE_PARAM_NAME_SHORTHAND>ACTION_TT_NAME</IE_PARAM_NAME_SHORTHAND>
					<IE_PARAM_NAME>IE_#EVENT_TYPE#_ACTION_TT_NAME</IE_PARAM_NAME>
				</UseParametersFn>
				<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
					<IE_PARAM_NAME_SHORTHAND>ACTION_TT_DESCRIPTION</IE_PARAM_NAME_SHORTHAND>
					<IE_PARAM_NAME>IE_#EVENT_TYPE#_ACTION_TT_DESCRIPTION</IE_PARAM_NAME>
				</UseParametersFn>
				<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
					<IE_PARAM_NAME_SHORTHAND>ACTION_TT_FUNCTION</IE_PARAM_NAME_SHORTHAND>
					<IE_PARAM_NAME>IE_#EVENT_TYPE#_ACTION_TT_FUNCTION</IE_PARAM_NAME>
				</UseParametersFn>
				<UseParametersFn Name="ASOBO_Add_To_IE_PARAMS_Helper">
					<IE_PARAM_NAME_SHORTHAND>ACTION_TT_TAG</IE_PARAM_NAME_SHORTHAND>
					<IE_PARAM_NAME>IE_#EVENT_TYPE#_ACTION_TT_TAG</IE_PARAM_NAME>
				</UseParametersFn>
			</Condition>
		</Parameters>
		<ReturnParameters>		
			<Condition Check="IE_PARAMS">
				<False>			
					<IE_#EVENT_TYPE#_ACTION_TYPE Process="Param">ACTION_TYPE</IE_#EVENT_TYPE#_ACTION_TYPE>
					<IE_#EVENT_TYPE#_ACTION_TT_NAME Process="Param">ACTION_TT_NAME</IE_#EVENT_TYPE#_ACTION_TT_NAME>
					<IE_#EVENT_TYPE#_ACTION_TT_DESCRIPTION Process="Param">ACTION_TT_DESCRIPTION</IE_#EVENT_TYPE#_ACTION_TT_DESCRIPTION>
					<IE_#EVENT_TYPE#_ACTION_TT_FUNCTION Process="Param">ACTION_TT_FUNCTION</IE_#EVENT_TYPE#_ACTION_TT_FUNCTION>
					<IE_#EVENT_TYPE#_ACTION_TT_TAG Process="Param">ACTION_TT_TAG</IE_#EVENT_TYPE#_ACTION_TT_TAG>
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Configure_Inc_Action_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Configure_Action_Helper">
				<EVENT_TYPE>INC</EVENT_TYPE>
				<EVENT_TYPE_NAME>INCREASE</EVENT_TYPE_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Configure_Dec_Action_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Configure_Action_Helper">
				<EVENT_TYPE>DEC</EVENT_TYPE>
				<EVENT_TYPE_NAME>DECREASE</EVENT_TYPE_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Configure_Set_Action_Helper">
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Configure_Action_Helper">
				<EVENT_TYPE>SET</EVENT_TYPE>
				<EVENT_TYPE_NAME>SET</EVENT_TYPE_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<!-- MR_EVENTS_SAVE (out) name of the save depending of the INTERACTION_MODEL if there is one -->
	<ParametersFn Name="ASOBO_Get_Mouserect_Events_Save_Name">
		<Parameters Type="Default">
			<OUT_PARAM_NAME>MR_EVENTS_SAVE</OUT_PARAM_NAME>
		</Parameters>
		<ReturnParameters>
			<Condition NotEmpty="INTERACTION_MODEL">
				<True>
					<#OUT_PARAM_NAME#>#INTERACTION_MODEL#_Mouserect_Events</#OUT_PARAM_NAME#>
				</True>
				<False>
					<#OUT_PARAM_NAME#>Mouserect_Events</#OUT_PARAM_NAME#>
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<!-- Append to Mouserect_Events -->
	<!-- EV_PARAM (opt): ON_PRIMARY_PRESSED -->
	<!-- EV_PARAM (opt): ON_SECONDARY_PRESSED -->
	<!-- EV_PARAM (opt): ON_TERTIARY_PRESSED -->
	<!-- EV_PARAM (opt): ON_PRIMARY_DOWN -->
	<!-- EV_PARAM (opt): ON_SECONDARY_DOWN -->
	<!-- EV_PARAM (opt): ON_TERTIARY_DOWN -->
	<!-- EV_PARAM (opt): ON_PRIMARY_RELEASED -->
	<!-- EV_PARAM (opt): ON_SECONDARY_RELEASED -->
	<!-- EV_PARAM (opt): ON_TERTIARY_RELEASED -->
	<!-- EV_PARAM (opt): ON_INCREASE -->
	<!-- EV_PARAM (opt): ON_DECREASE -->
	<!-- EV_PARAM (opt): ON_HOVER -->
	<!-- EV_PARAM (opt): ON_LEAVE -->
	<!-- EV_PARAM (opt): ON_ENTER_LOCK -->
	<!-- EV_PARAM (opt): ON_EXIT_LOCK -->
	<!-- EV_PARAM (opt): ON_ENTER -->
	<!-- EV_PARAM (opt): ON_EXIT -->
	<ParametersFn Name="ASOBO_Append_To_Mouserect_Events_Helper">
		<Parameters Type="Override">
			<UseParametersFn Name="ASOBO_Get_Mouserect_Events_Save_Name" />
		</Parameters>
		<Parameters Type="Default">
			<Condition Check="EV_PARAM">
				<EV_PARAM_NAME_SHORTHAND>#EV_PARAM#</EV_PARAM_NAME_SHORTHAND>
				<EV_PARAM_NAME>MR_#EV_PARAM#</EV_PARAM_NAME>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<Condition CheckSavedParameters="#MR_EVENTS_SAVE#" Check="#EV_PARAM_NAME#">
				<LoadParameters ID="#MR_EVENTS_SAVE#"/>
			</Condition>
		</Parameters>
		<Parameters Type="Override">
			<SaveParameters ID="#MR_EVENTS_SAVE#" Append="Override">
				<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
					<PARAM>#EV_PARAM_NAME_SHORTHAND#</PARAM>
					<OUT_PARAM_NAME>#EV_PARAM_NAME#</OUT_PARAM_NAME>
				</UseParametersFn>
			</SaveParameters>
		</Parameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Get_Attachement_MR_Binding_Type_Helper">
		<ReturnParameters>
			<Switch Param="ATTACHEMENT_ID">
				<Case Value="1">
					<MR_BINDING_TYPE>PRIMARY</MR_BINDING_TYPE>
				</Case>
				<Case Value="2">
					<MR_BINDING_TYPE>SECONDARY</MR_BINDING_TYPE>
				</Case>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Get_Interaction_For_MR_Binding_Type_Helper">
		<ReturnParameters>
			<Switch Param="MR_BINDING_TYPE">
				<Case Value="PRIMARY">
					<IE_TOOLTIP_INTERACTION>SECONDARY_DOWN</IE_TOOLTIP_INTERACTION>
					<IE_TOOLTIP_INTERACTION_LOCKABLE>PRIMARY_DOWN</IE_TOOLTIP_INTERACTION_LOCKABLE>
				</Case>
				<Case Value="SECONDARY">
					<IE_TOOLTIP_INTERACTION>TERTIARY_DOWN</IE_TOOLTIP_INTERACTION>
					<IE_TOOLTIP_INTERACTION_LOCKABLE>SECONDARY_DOWN</IE_TOOLTIP_INTERACTION_LOCKABLE>
				</Case>
				<Default>
					<IE_TOOLTIP_INTERACTION>PRIMARY_DOWN</IE_TOOLTIP_INTERACTION>
					<IE_TOOLTIP_INTERACTION_LOCKABLE>LOCK</IE_TOOLTIP_INTERACTION_LOCKABLE>
				</Default>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_Helper">
		<ReturnParameters>
			<Condition Check="INTERACTION_MODEL" Match="@IM_Default">
				<True>
					<UseParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_IM_DEFAULT_Helper" />
				</True>
				<False>
					<UseParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_IM_DRAG_Helper" />
				</False>
			</Condition>
		</ReturnParameters>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_IM_DEFAULT_Helper">
		<Parameters Type="Override">
			<LoadParameters ID="Mouserect_Parameters"/>
		</Parameters>
		<Condition Check="DEAD_ZONE_RADIUS">
			<True>
				<Parameters Type="Override">
					<Switch Param="AXIS">
						<Case Value="X">
							<IS_INSIDE_DEAD_ZONE>@MR_Rel_X abs #DEAD_ZONE_RADIUS# &lt;=</IS_INSIDE_DEAD_ZONE>
						</Case>
						<Case Value="Y">
							<IS_INSIDE_DEAD_ZONE>@MR_Rel_Y abs #DEAD_ZONE_RADIUS# &lt;=</IS_INSIDE_DEAD_ZONE>
						</Case>
					</Switch>
				</Parameters>
				<ReturnParameters>
					<Condition Check="CODE_ON_PRESS">
						<ON_#MR_BINDING_TYPE#_PRESSED>#IS_INSIDE_DEAD_ZONE# if{ #CODE_ON_PRESS# }</ON_#MR_BINDING_TYPE#_PRESSED>
					</Condition>
					<Condition Check="CODE_ON_RELEASE">
						<ON_#MR_BINDING_TYPE#_RELEASED>#CODE_ON_RELEASE#</ON_#MR_BINDING_TYPE#_RELEASED>
					</Condition>
				</ReturnParameters>
			</True>
			<False>
				<ReturnParameters>
					<!-- No deadzone, fallback on drag interaction -->
					<UseParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_IM_DRAG_Helper" />
				</ReturnParameters>
			</False>
		</Condition>
	</ParametersFn>
	<ParametersFn Name="ASOBO_Get_Code_For_MR_Binding_Type_IM_DRAG_Helper">
		<Parameters Type="Default">
			<Condition Check="CODE_ON_PRESS">
				<CODE_ON_PRESS_RELATIVE>@MR_IsUsingRelativePos if{ #CODE_ON_PRESS# }</CODE_ON_PRESS_RELATIVE>
				<CODE_ON_PRESS_ABSOLUTE>@MR_IsUsingRelativePos ! if{ #CODE_ON_PRESS# }</CODE_ON_PRESS_ABSOLUTE>
			</Condition>
			<Condition Check="CODE_ON_RELEASE">
				<CODE_ON_RELEASE_RELATIVE>@MR_IsUsingRelativePos if{ #CODE_ON_RELEASE# }</CODE_ON_RELEASE_RELATIVE>
				<CODE_ON_RELEASE_ABSOLUTE>@MR_IsUsingRelativePos ! if{ #CODE_ON_RELEASE# }</CODE_ON_RELEASE_ABSOLUTE>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<Switch Param="MR_BINDING_TYPE">
				<Case Value="PRIMARY">
					<Condition Check="CODE_ON_PRESS">
						<ON_PRIMARY_PRESSED>#CODE_ON_PRESS_RELATIVE#</ON_PRIMARY_PRESSED>
						<ON_SECONDARY_PRESSED>#CODE_ON_PRESS_ABSOLUTE#</ON_SECONDARY_PRESSED>
					</Condition>
					<Condition Check="CODE_ON_RELEASE">
						<ON_PRIMARY_RELEASED>#CODE_ON_RELEASE_RELATIVE#</ON_PRIMARY_RELEASED>
						<ON_SECONDARY_RELEASED>#CODE_ON_RELEASE_ABSOLUTE#</ON_SECONDARY_RELEASED>
					</Condition>
				</Case>
				<Case Value="SECONDARY">
					<Condition Check="CODE_ON_PRESS">
						<ON_SECONDARY_PRESSED>#CODE_ON_PRESS_RELATIVE#</ON_SECONDARY_PRESSED>
						<ON_TERTIARY_PRESSED>#CODE_ON_PRESS_ABSOLUTE#</ON_TERTIARY_PRESSED>
					</Condition>
					<Condition Check="CODE_ON_RELEASE">
						<ON_SECONDARY_RELEASED>#CODE_ON_RELEASE_RELATIVE#</ON_SECONDARY_RELEASED>
						<ON_TERTIARY_RELEASED>#CODE_ON_RELEASE_ABSOLUTE#</ON_TERTIARY_RELEASED>
					</Condition>
				</Case>
			</Switch>
		</ReturnParameters>
	</ParametersFn>
	<!-- Define an event code without knowing the button event it'll be tied to -->
	<!-- IN: ON_EVENT_SET -->
	<!-- IN: ON_EVENT_RELEASE -->
	<ParametersFn Name="ASOBO_Auto_Define_Event_Param_Helper">
		<Parameters Type="Default">
			<THIS_BUTTON_TYPE>#BUTTON_TYPE#</THIS_BUTTON_TYPE>
		</Parameters>
		<Parameters Type="Override">
			<THIS_BUTTON_TYPE_UC Process="String">'#THIS_BUTTON_TYPE#' uc</THIS_BUTTON_TYPE_UC>
		</Parameters>
		<Parameters Type="Default">
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TYPE>DIGITAL</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TYPE>
			<Condition Valid="DEFAULT_ACTION_TT_NAME">
				<UseParametersFn Name="ASOBO_Default_TT_Name_Helper">
					<OUT_PARAM_NAME>BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_NAME</OUT_PARAM_NAME>
					<ACTION_NAME>#IE_PRESET_ID_UC#_#THIS_BUTTON_TYPE_UC#</ACTION_NAME>
				</UseParametersFn>
			</Condition>
			<Condition Valid="DEFAULT_ACTION_TT_DESCRIPTION">
				<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_DESCRIPTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.#ACTION_TT_DESCRIPTION_PREFIX##IE_PRESET_ID_UC#_#THIS_BUTTON_TYPE_UC##ACTION_TT_DESCRIPTION_SUFFIX#</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_DESCRIPTION>
			</Condition>
			<Condition Valid="DEFAULT_ACTION_TT_FUNCTION">
				<Condition Valid="DEFAULT_ACTION_TT_FUNCTION_TO_BUILTIN_FUNC">
					<True>
						<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.FUNCTION_#THIS_BUTTON_TYPE_UC#</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION>
					</True>
					<False>
						<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION>#DEFAULT_STATES_ACTION_TT_PACKAGE#.#ACTION_TT_FUNCTION_PREFIX##IE_PRESET_ID_UC#_#THIS_BUTTON_TYPE_UC##ACTION_TT_FUNCTION_SUFFIX#</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION>
					</False>
				</Condition>
			</Condition>
		</Parameters>
		<ReturnParameters>
			<Condition Check="ON_EVENT_SET">
				<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
					<PARAM>ON_EVENT_SET</PARAM>
					<OUT_PARAM_NAME>ON_BUTTON_#THIS_BUTTON_TYPE_UC#_SET</OUT_PARAM_NAME>
				</UseParametersFn>				
			</Condition>
			<Condition Check="ON_EVENT_RELEASE">
				<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
					<PARAM>ON_EVENT_RELEASE</PARAM>
					<OUT_PARAM_NAME>ON_BUTTON_#THIS_BUTTON_TYPE_UC#_RELEASED</OUT_PARAM_NAME>
				</UseParametersFn>				
			</Condition>
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TYPE Process="Param">BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TYPE</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TYPE>
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_NAME Process="Param">BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_NAME</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_NAME>
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_DESCRIPTION Process="Param">BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_DESCRIPTION</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_DESCRIPTION>
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION Process="Param">BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_FUNCTION>
			<BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_TAG Process="Param">BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_TAG</BUTTON_#THIS_BUTTON_TYPE_UC#_ACTION_TT_TAG>
		</ReturnParameters>
	</ParametersFn>
	<!-- Define a RPN snippet for handling button timed events -->
	<!-- IN: ON_LONG_PRESS_EVENT -->
	<ParametersFn Name="ASOBO_Add_Button_Long_Press_Event_Helper">
		<Parameters Type="Default">
			<UseParametersFn Name="ASOBO_Get_Tick_Parameters_Helper"/>
			<PRESS_TIME_VAR>XMLVAR_Press_Time</PRESS_TIME_VAR>
			<LONG_PRESS_DURATION>2</LONG_PRESS_DURATION>
			<OUT_EVENT_PARAM_NAME>ON_EVENT_SET</OUT_EVENT_PARAM_NAME>
		</Parameters>
		<Parameters Type="Default">
			<HANDLE_LONG_PRESS_EVENT>(B:#IE_PRESET_ID#) 1 == if{ @E_SimulationTime (O:#PRESS_TIME_VAR#) - #LONG_PRESS_DURATION# &gt; if{ #ON_LONG_PRESS_EVENT# } els{ #TICK_ONCE# } }</HANDLE_LONG_PRESS_EVENT>
			<SAVE_TIME_PRESSED>@E_SimulationTime (&gt;O:#PRESS_TIME_VAR#)</SAVE_TIME_PRESSED>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Append_Init_Code_Helper">
				<INIT_CODE>#HANDLE_LONG_PRESS_EVENT#</INIT_CODE>
			</UseParametersFn>
			<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
				<PARAM>SAVE_TIME_PRESSED</PARAM>
				<OUT_PARAM_NAME>#OUT_EVENT_PARAM_NAME#</OUT_PARAM_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<!-- IN: ON_SHORT_PRESS_EVENT -->
	<ParametersFn Name="ASOBO_Add_Button_Short_Click_Event_Helper">
		<Parameters Type="Default">
			<TRACK_TIME>True</TRACK_TIME>
		</Parameters>
		<Parameters Type="Default">
			<PRESS_TIME_VAR>XMLVAR_Press_Time</PRESS_TIME_VAR>
			<Condition Valid="TRACK_TIME">
				<UseParametersFn Name="ASOBO_Get_Tick_Parameters_Helper"/>
				<OUT_EVENT_PARAM_NAME>ON_EVENT_SET</OUT_EVENT_PARAM_NAME>
			</Condition>
			<LONG_PRESS_DURATION>2</LONG_PRESS_DURATION>
			<OUT_EVENT_SHORT_PRESS_PARAM_NAME>ON_EVENT_RELEASE</OUT_EVENT_SHORT_PRESS_PARAM_NAME>
		</Parameters>
		<Condition Valid="TRACK_TIME">
			<Parameters Type="Default">
				<SAVE_TIME_PRESSED>@E_SimulationTime (&gt;O:#PRESS_TIME_VAR#)</SAVE_TIME_PRESSED>
				<HANDLE_TIME_UPDATE>(B:#IE_PRESET_ID#) 1 == if{ #TICK_ONCE# }</HANDLE_TIME_UPDATE>
			</Parameters>
		</Condition>
		<Parameters Type="Override">
			<ON_SHORT_PRESS_EVENT>@E_SimulationTime (O:#PRESS_TIME_VAR#) - #LONG_PRESS_DURATION# &lt; if{ #ON_SHORT_PRESS_EVENT# }</ON_SHORT_PRESS_EVENT>
		</Parameters>
		<ReturnParameters>
			<Condition Valid="TRACK_TIME">
				<UseParametersFn Name="ASOBO_Append_Init_Code_Helper">
					<INIT_CODE>#HANDLE_TIME_UPDATE#</INIT_CODE>
				</UseParametersFn>
				<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
					<PARAM>SAVE_TIME_PRESSED</PARAM>
					<OUT_PARAM_NAME>#OUT_EVENT_PARAM_NAME#</OUT_PARAM_NAME>
				</UseParametersFn>
			</Condition>
			<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
				<PARAM>ON_SHORT_PRESS_EVENT</PARAM>
				<OUT_PARAM_NAME>#OUT_EVENT_SHORT_PRESS_PARAM_NAME#</OUT_PARAM_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<!-- Define a RPN snippet for handling button down events -->
	<!-- IN: ON_BUTTON_DOWN -->
	<ParametersFn Name="ASOBO_Add_Button_Down_Event_Helper">
		<Parameters Type="Default">
			<UseParametersFn Name="ASOBO_Get_Tick_Parameters_Helper"/>
			<OUT_EVENT_PARAM_NAME>ON_EVENT_SET</OUT_EVENT_PARAM_NAME>
		</Parameters>
		<Parameters Type="Default">
			<HANDLE_BUTTON_DOWN_EVENT>(B:#IE_PRESET_ID#) 1 == if{ #TICK_ONCE# #ON_BUTTON_DOWN# }</HANDLE_BUTTON_DOWN_EVENT>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Append_Init_Code_Helper">
				<INIT_CODE>#HANDLE_BUTTON_DOWN_EVENT#</INIT_CODE>
			</UseParametersFn>
			<UseParametersFn Name="ASOBO_Append_If_Necessary_Helper">
				<PARAM>TICK_ONCE</PARAM>
				<OUT_PARAM_NAME>#OUT_EVENT_PARAM_NAME#</OUT_PARAM_NAME>
			</UseParametersFn>
		</ReturnParameters>
	</ParametersFn>
	<!-- A helper for tick handling -->
	<ParametersFn Name="ASOBO_Get_Tick_Parameters_Helper">
		<Parameters Type="Default">
			<TICK_VAR>XMLVAR_#IE_PRESET_ID#_TICK</TICK_VAR>
			<TICK_VAR_SCOPE>O</TICK_VAR_SCOPE>
		</Parameters>
		<ReturnParameters>
			<UseParametersFn Name="ASOBO_Watch_LocalVar_Helper">
				<LOCAL_VAR>#TICK_VAR#</LOCAL_VAR>
				<VAR_SCOPE>#TICK_VAR_SCOPE#</VAR_SCOPE>
			</UseParametersFn>
			<TICK_ONCE>(#TICK_VAR_SCOPE#:#TICK_VAR#) 1 + dnor (&gt;#TICK_VAR_SCOPE#:#TICK_VAR#)</TICK_ONCE>
		</ReturnParameters>
	</ParametersFn>
</ModelBehaviors>